<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>ariadne.app API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}#lunr-search{width:100%;font-size:1em;padding:6px 9px 5px 9px;border:1px solid silver}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>ariadne.app</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import asyncio
import importlib.metadata
import time
from asyncio.events import AbstractEventLoop
from asyncio.exceptions import CancelledError
from asyncio.tasks import Task
from typing import (
    TYPE_CHECKING,
    Any,
    Dict,
    List,
    Literal,
    Optional,
    Tuple,
    Type,
    TypeVar,
    Union,
)

from graia.broadcast import Broadcast
from loguru import logger
from prompt_toolkit.patch_stdout import StdoutProxy

from . import ARIADNE_ASCII_LOGO
from .adapter import Adapter, DefaultAdapter
from .context import enter_context, enter_message_send_context
from .event.lifecycle import (
    AdapterLaunched,
    AdapterShutdowned,
    ApplicationLaunched,
    ApplicationShutdowned,
)
from .event.message import FriendMessage, GroupMessage, MessageEvent, TempMessage
from .message.element import Source
from .util import (
    await_predicate,
    inject_bypass_listener,
    inject_loguru_traceback,
    yield_with_timeout,
)

if TYPE_CHECKING:
    from .message.element import Image, Voice

from .message.chain import MessageChain
from .model import (
    AriadneStatus,
    BotMessage,
    CallMethod,
    ChatLogConfig,
    FileInfo,
    Friend,
    Group,
    GroupConfig,
    Member,
    MemberInfo,
    MiraiSession,
    Profile,
    UploadMethod,
)
from .util import ApplicationMiddlewareDispatcher, app_ctx_manager


class AriadneMixin:
    &#34;&#34;&#34;Ariadne 的 Mixin 基类.&#34;&#34;&#34;

    broadcast: Broadcast
    adapter: Adapter
    mirai_session: MiraiSession

    @property
    def session_key(self) -&gt; Optional[str]:
        return self.mirai_session.session_key


class MessageMixin(AriadneMixin):
    &#34;&#34;&#34;用于发送, 撤回, 获取消息的 Mixin 类.&#34;&#34;&#34;

    @app_ctx_manager
    async def getMessageFromId(self, messageId: int) -&gt; MessageEvent:
        result = await self.adapter.call_api(
            &#34;messageFromId&#34;,
            CallMethod.GET,
            {&#34;sessionKey&#34;: self.session_key, &#34;id&#34;: messageId},
        )
        return await self.adapter.build_event(result)

    @app_ctx_manager
    async def sendFriendMessage(
        self,
        target: Union[Friend, int],
        message: MessageChain,
        *,
        quote: Optional[Union[Source, int]] = None,
    ) -&gt; BotMessage:
        &#34;&#34;&#34;发送消息给好友, 可以指定回复的消息.

        Args:
            target (Union[Friend, int]): 指定的好友
            message (MessageChain): 有效的, 可发送的(Sendable)消息链.
            quote (Optional[Union[Source, int]], optional): 需要回复的消息, 不要忽视我啊喂?!!, 默认为 None.

        Returns:
            BotMessage: 即当前会话账号所发出消息的元数据, 内包含有一 `messageId` 属性, 可用于回复.
        &#34;&#34;&#34;
        with enter_message_send_context(UploadMethod.Friend):
            new_msg = message.copy()
            new_msg.prepare()
            result = await self.adapter.call_api(
                &#34;sendFriendMessage&#34;,
                CallMethod.POST,
                {
                    &#34;sessionKey&#34;: self.session_key,
                    &#34;target&#34;: target.id if isinstance(target, Friend) else target,
                    &#34;messageChain&#34;: new_msg.dict()[&#34;__root__&#34;],
                    **({&#34;quote&#34;: quote.id if isinstance(quote, Source) else quote} if quote else {}),
                },
            )
            logger.info(
                &#34;[BOT {bot_id}] Friend({friend_id}) &lt;- {message}&#34;.format_map(
                    {
                        &#34;bot_id&#34;: self.mirai_session.account,
                        &#34;friend_id&#34;: target.id if isinstance(target, Friend) else target,
                        &#34;message&#34;: new_msg.asDisplay(),
                    }
                )
            )
            return BotMessage(messageId=result[&#34;messageId&#34;])

    @app_ctx_manager
    async def sendGroupMessage(
        self,
        target: Union[Group, int],
        message: MessageChain,
        *,
        quote: Optional[Union[Source, int]] = None,
    ) -&gt; BotMessage:
        &#34;&#34;&#34;发送消息到群组内, 可以指定回复的消息.

        Args:
            target (Union[Group, int]): 指定的群组, 可以是群组的 ID 也可以是 Group 实例.
            message (MessageChain): 有效的, 可发送的(Sendable)消息链.
            quote (Optional[Union[Source, int]], optional): 需要回复的消息, 不要忽视我啊喂?!!, 默认为 None.

        Returns:
            BotMessage: 即当前会话账号所发出消息的元数据, 内包含有一 `messageId` 属性, 可用于回复.
        &#34;&#34;&#34;
        with enter_message_send_context(UploadMethod.Group):
            new_msg = message.copy()
            new_msg.prepare()
            result = await self.adapter.call_api(
                &#34;sendGroupMessage&#34;,
                CallMethod.POST,
                {
                    &#34;sessionKey&#34;: self.session_key,
                    &#34;target&#34;: target.id if isinstance(target, Group) else target,
                    &#34;messageChain&#34;: new_msg.dict()[&#34;__root__&#34;],
                    **({&#34;quote&#34;: quote.id if isinstance(quote, Source) else quote} if quote else {}),
                },
            )
            logger.info(
                &#34;[BOT {bot_id}] Group({group_id}) &lt;- {message}&#34;.format_map(
                    {
                        &#34;bot_id&#34;: self.mirai_session.account,
                        &#34;group_id&#34;: target.id if isinstance(target, Group) else target,
                        &#34;message&#34;: new_msg.asDisplay(),
                    }
                )
            )
            return BotMessage(messageId=result[&#34;messageId&#34;])

    @app_ctx_manager
    async def sendTempMessage(
        self,
        target: Union[Member, int],
        message: MessageChain,
        group: Optional[Union[Group, int]] = None,
        *,
        quote: Optional[Union[Source, int]] = None,
    ) -&gt; BotMessage:
        &#34;&#34;&#34;发送临时会话给群组中的特定成员, 可指定回复的消息.

        Args:
            group (Union[Group, int]): 指定的群组, 可以是群组的 ID 也可以是 Group 实例.
            target (Union[Member, int]): 指定的群组成员, 可以是成员的 ID 也可以是 Member 实例.
            message (MessageChain): 有效的, 可发送的(Sendable)消息链.
            quote (Optional[Union[Source, int]], optional): 需要回复的消息, 不要忽视我啊喂?!!, 默认为 None.

        Returns:
            BotMessage: 即当前会话账号所发出消息的元数据, 内包含有一 `messageId` 属性, 可用于回复.
        &#34;&#34;&#34;
        new_msg = message.copy()
        new_msg.prepare()
        group = target.group if (isinstance(target, Member) and not group) else group
        if not group:
            raise ValueError(&#34;Missing necessary argument: group&#34;)
        with enter_message_send_context(UploadMethod.Temp):
            result = await self.adapter.call_api(
                &#34;sendTempMessage&#34;,
                CallMethod.POST,
                {
                    &#34;sessionKey&#34;: self.session_key,
                    &#34;group&#34;: group.id if isinstance(group, Group) else group,
                    &#34;qq&#34;: target.id if isinstance(target, Member) else target,
                    &#34;messageChain&#34;: new_msg.dict()[&#34;__root__&#34;],
                    **({&#34;quote&#34;: quote.id if isinstance(quote, Source) else quote} if quote else {}),
                },
            )
            logger.info(
                &#34;[BOT {bot_id}] Member({member_id}, in {group_id}) &lt;- {message}&#34;.format_map(
                    {
                        &#34;bot_id&#34;: self.mirai_session.account,
                        &#34;member_id&#34;: target.id if isinstance(target, Member) else target,
                        &#34;group_id&#34;: group.id if isinstance(group, Group) else group,
                        &#34;message&#34;: new_msg.asDisplay(),
                    }
                )
            )
            return BotMessage(messageId=result[&#34;messageId&#34;])

    @app_ctx_manager
    async def sendMessage(
        self,
        target: Union[MessageEvent, Group, Friend, Member],
        message: MessageChain,
        *,
        quote: Union[bool, int, Source] = False,
    ) -&gt; BotMessage:
        &#34;&#34;&#34;
        依据传入的 `target` 自动发送消息.
        请注意发送给群成员时会自动作为临时消息发送.

        Args:
            target (Union[MessageEvent, Group, Friend, Member]): 消息发送目标.
            message (MessageChain): 要发送的消息链.
            quote (Union[bool, int, Source]): 若为布尔类型, 则会尝试通过传入对象解析要回复的消息,
            否则会视为 `messageId` 处理.

        Returns:
            BotMessage: 即当前会话账号所发出消息的元数据, 内包含有一 `messageId` 属性, 可用于回复.
        &#34;&#34;&#34;
        data = {&#34;message&#34;: message}
        # quote
        if isinstance(quote, bool) and quote and isinstance(target, MessageEvent):
            data[&#34;quote&#34;] = target.messageChain.getFirst(Source)
        elif isinstance(quote, (int, Source)):
            data[&#34;quote&#34;] = quote
        # target: MessageEvent
        if isinstance(target, GroupMessage):
            data[&#34;target&#34;] = target.sender.group
        elif isinstance(target, (FriendMessage, TempMessage)):
            data[&#34;target&#34;] = target.sender
        else:  # target: sender
            data[&#34;target&#34;] = target
        # send message
        if isinstance(data[&#34;target&#34;], Friend):
            return await self.sendFriendMessage(**data)
        if isinstance(data[&#34;target&#34;], Group):
            return await self.sendGroupMessage(**data)
        if isinstance(data[&#34;target&#34;], Member):
            return await self.sendTempMessage(**data)
        raise NotImplementedError(f&#34;Unable to send message with {target} as target.&#34;)

    @app_ctx_manager
    async def sendNudge(
        self, target: Union[Friend, Member, int], group: Optional[Union[Group, int]] = None
    ) -&gt; None:
        &#34;&#34;&#34;
        向指定的群组成员或好友发送戳一戳消息.

        Args:
            target (Union[Friend, Member]): 发送戳一戳的目标.
            group (Union[Group, int], optional): 发送的群组.

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        target_id = target if isinstance(target, int) else target.id

        subject_id = (group.id if isinstance(group, Group) else group) or (
            target.group.id if isinstance(target, Member) else target_id
        )
        kind = &#34;Group&#34; if group or isinstance(target, Member) else &#34;Friend&#34;
        await self.adapter.call_api(
            &#34;sendNudge&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: target_id,
                &#34;subject&#34;: subject_id,
                &#34;kind&#34;: kind,
            },
        )

    @app_ctx_manager
    async def recallMessage(self, target: Union[Source, BotMessage, int]) -&gt; None:
        &#34;&#34;&#34;撤回特定的消息; 撤回自己的消息需要在发出后 2 分钟内才能成功撤回; 如果在群组内, 需要撤回他人的消息则需要管理员/群主权限.

        Args:
            target (Union[Source, BotMessage, int]): 特定信息的 `messageId`, 可以是 `Source` 实例, `BotMessage` 实例或者是单纯的 int 整数.

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        if isinstance(target, BotMessage):
            target = target.messageId
        elif isinstance(target, Source):
            target = target.id

        await self.adapter.call_api(
            &#34;recall&#34;,
            CallMethod.POST,
            {&#34;sessionKey&#34;: self.session_key, &#34;target&#34;: target},
        )


class RelationshipMixin(AriadneMixin):
    &#34;&#34;&#34;获取各种关系模型的 Mixin 类.&#34;&#34;&#34;

    @app_ctx_manager
    async def getFriendList(self) -&gt; List[Friend]:
        result = await self.adapter.call_api(
            &#34;friendList&#34;,
            CallMethod.GET,
            {&#34;sessionKey&#34;: self.session_key},
        )
        return [Friend.parse_obj(i) for i in result]

    @app_ctx_manager
    async def getFriend(self, friend_id: int) -&gt; Optional[Friend]:
        &#34;&#34;&#34;从已知的可能的好友 ID, 获取 Friend 实例.

        Args:
            friend_id (int): 已知的可能的好友 ID.

        Returns:
            Friend: 操作成功, 你得到了你应得的.
            None: 未能获取到.
        &#34;&#34;&#34;
        data = await self.getFriendList()
        for i in data:
            if i.id == friend_id:
                return i

    @app_ctx_manager
    async def getGroupList(self) -&gt; List[Group]:
        result = await self.adapter.call_api(
            &#34;groupList&#34;,
            CallMethod.GET,
            {&#34;sessionKey&#34;: self.session_key},
        )
        return [Group.parse_obj(i) for i in result]

    @app_ctx_manager
    async def getGroup(self, group_id: int) -&gt; Optional[Group]:
        &#34;&#34;&#34;尝试从已知的群组唯一ID, 获取对应群组的信息; 可能返回 None.

        Args:
            group_id (int): 尝试获取的群组的唯一 ID.

        Returns:
            Group: 操作成功, 你得到了你应得的.
            None: 未能获取到.
        &#34;&#34;&#34;
        data = await self.getGroupList()
        for i in data:
            if i.id == group_id:
                return i

    @app_ctx_manager
    async def getMemberList(self, group: Union[Group, int]) -&gt; List[Member]:
        result = await self.adapter.call_api(
            &#34;memberList&#34;,
            CallMethod.GET,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
            },
        )
        return [Member.parse_obj(i) for i in result]

    @app_ctx_manager
    async def getMember(self, group: Union[Group, int], member_id: int) -&gt; Optional[Member]:
        &#34;&#34;&#34;尝试从已知的群组唯一 ID 和已知的群组成员的 ID, 获取对应成员的信息; 可能返回 None.

        Args:
            group_id (Union[Group, int]): 已知的群组唯一 ID
            member_id (int): 已知的群组成员的 ID

        Returns:
            Member: 操作成功, 你得到了你应得的.
            None: 未能获取到.
        &#34;&#34;&#34;
        data = await self.getMemberList(group)
        for i in data:
            if i.id == member_id:
                return i

    @app_ctx_manager
    async def getBotProfile(self) -&gt; Profile:
        result = await self.adapter.call_api(
            &#34;botProfile&#34;,
            CallMethod.GET,
            {&#34;sessionKey&#34;: self.session_key},
        )
        return Profile.parse_obj(result)

    @app_ctx_manager
    async def getFriendProfile(self, friend: Union[Friend, int]) -&gt; Profile:
        result = await self.adapter.call_api(
            &#34;friendProfile&#34;,
            CallMethod.GET,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: friend.id if isinstance(friend, Friend) else friend,
            },
        )
        return Profile.parse_obj(result)

    @app_ctx_manager
    async def getMemberProfile(
        self, member: Union[Member, int], group: Optional[Union[Group, int]] = None
    ) -&gt; Profile:
        member_id = member.id if isinstance(member, Member) else member
        group = group or (member.group if isinstance(member, Member) else None)
        group_id = group.id if isinstance(group, Group) else group
        if not group_id:
            raise ValueError(&#34;Missing necessary argument: group&#34;)
        result = await self.adapter.call_api(
            &#34;memberProfile&#34;,
            CallMethod.GET,
            {&#34;sessionKey&#34;: self.session_key, &#34;target&#34;: group_id, &#34;memberId&#34;: member_id},
        )
        return Profile.parse_obj(result)


class OperationMixin(AriadneMixin):
    &#34;&#34;&#34;在各种关系模型中进行操作的 Mixin 类.&#34;&#34;&#34;

    @app_ctx_manager
    async def deleteFriend(self, target: Union[Friend, int]):
        &#34;&#34;&#34;
        删除指定好友.

        Args:
            target (Union[Friend, int]): 好友对象或QQ号.

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;

        friend_id = target.id if isinstance(target, Friend) else target

        await self.adapter.call_api(
            &#34;deleteFriend&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: friend_id,
            },
        )

    @app_ctx_manager
    async def muteMember(self, group: Union[Group, int], member: Union[Member, int], time: int):
        &#34;&#34;&#34;
        在指定群组禁言指定群成员; 需要具有相应权限(管理员/群主); `time` 不得大于 `30*24*60*60=2592000` 或小于 `0`, 否则会自动修正;
        当 `time` 小于等于 `0` 时, 不会触发禁言操作; 禁言对象极有可能触发 `PermissionError`, 在这之前请对其进行判断!

        Args:
            group (Union[Group, int]): 指定的群组
            member (Union[Member, int]): 指定的群成员(只能是普通群员或者是管理员, 后者则要求群主权限)
            time (int): 禁言事件, 单位秒, 修正规则: `0 &lt; time &lt;= 2592000`

        Raises:
            PermissionError: 没有相应操作权限.

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        time = max(0, min(time, 2592000))  # Fix time parameter
        if not time:
            return
        await self.adapter.call_api(
            &#34;mute&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
                &#34;memberId&#34;: member.id if isinstance(member, Member) else member,
                &#34;time&#34;: time,
            },
        )

    @app_ctx_manager
    async def unmuteMember(self, group: Union[Group, int], member: Union[Member, int]):
        &#34;&#34;&#34;
        在指定群组解除对指定群成员的禁言; 需要具有相应权限(管理员/群主); 对象极有可能触发 `PermissionError`, 在这之前请对其进行判断!

        Args:
            group (Union[Group, int]): 指定的群组
            member (Union[Member, int]): 指定的群成员(只能是普通群员或者是管理员, 后者则要求群主权限)

        Raises:
            PermissionError: 没有相应操作权限.

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        await self.adapter.call_api(
            &#34;unmute&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
                &#34;memberId&#34;: member.id if isinstance(member, Member) else member,
            },
        )

    @app_ctx_manager
    async def muteAll(self, group: Union[Group, int]):
        &#34;&#34;&#34;在指定群组开启全体禁言, 需要当前会话账号在指定群主有相应权限(管理员或者群主权限)

        Args:
            group (Union[Group, int]): 指定的群组.

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        await self.adapter.call_api(
            &#34;muteAll&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
            },
        )

    @app_ctx_manager
    async def unmuteAll(self, group: Union[Group, int]):
        &#34;&#34;&#34;在指定群组关闭全体禁言, 需要当前会话账号在指定群主有相应权限(管理员或者群主权限)

        Args:
            group (Union[Group, int]): 指定的群组.

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        await self.adapter.call_api(
            &#34;unmuteAll&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
            },
        )

    @app_ctx_manager
    async def kickMember(self, group: Union[Group, int], member: Union[Member, int], message: str = &#34;&#34;):
        &#34;&#34;&#34;
        将目标群组成员从指定群组踢出; 需要具有相应权限(管理员/群主)

        Args:
            group (Union[Group, int]): 指定的群组
            member (Union[Member, int]): 指定的群成员(只能是普通群员或者是管理员, 后者则要求群主权限)
            message (str, optional): 对踢出对象要展示的消息

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        await self.adapter.call_api(
            &#34;kick&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
                &#34;memberId&#34;: member.id if isinstance(member, Member) else member,
                &#34;msg&#34;: message,
            },
        )

    @app_ctx_manager
    async def quitGroup(self, group: Union[Group, int]):
        &#34;&#34;&#34;
        主动从指定群组退出

        Args:
            group (Union[Group, int]): 需要退出的指定群组

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        await self.adapter.call_api(
            &#34;quit&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
            },
        )

    @app_ctx_manager
    async def setEssence(self, target: Union[Source, BotMessage, int]):
        &#34;&#34;&#34;
        添加指定消息为群精华消息; 需要具有相应权限(管理员/群主).
        请自行判断消息来源是否为群组.

        Args:
            target (Union[Source, BotMessage, int]): 特定信息的 `messageId`, 可以是 `Source` 实例, `BotMessage` 实例或者是单纯的 int 整数.

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        if isinstance(target, BotMessage):
            target = target.messageId
        elif isinstance(target, Source):
            target = target.id

        await self.adapter.call_api(
            &#34;setEssence&#34;,
            CallMethod.POST,
            {&#34;sessionKey&#34;: self.session_key, &#34;target&#34;: target},
        )

    @app_ctx_manager
    async def getGroupConfig(self, group: Union[Group, int]) -&gt; GroupConfig:
        &#34;&#34;&#34;
        获取指定群组的群设置

        Args:
            group (Union[Group, int]): 需要获取群设置的指定群组

        Returns:
            GroupConfig: 指定群组的群设置
        &#34;&#34;&#34;
        result = await self.adapter.call_api(
            &#34;groupConfig&#34;,
            CallMethod.RESTGET,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
            },
        )

        return GroupConfig.parse_obj(result)

    @app_ctx_manager
    async def modifyGroupConfig(self, group: Union[Group, int], config: GroupConfig):
        &#34;&#34;&#34;修改指定群组的群设置; 需要具有相应权限(管理员/群主).

        Args:
            group (Union[Group, int]): 需要修改群设置的指定群组
            config (GroupConfig): 经过修改后的群设置

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        await self.adapter.call_api(
            &#34;groupConfig&#34;,
            CallMethod.RESTPOST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
                &#34;config&#34;: config.dict(exclude_unset=True, exclude_none=True),
            },
        )

    @app_ctx_manager
    async def getMemberInfo(
        self, member: Union[Member, int], group: Optional[Union[Group, int]] = None
    ) -&gt; MemberInfo:
        &#34;&#34;&#34;
        获取指定群组成员的可修改状态.

        Args:
            member (Union[Member, int]): 指定群成员, 可为 Member 实例, 若前设成立, 则不需要提供 group.
            group (Optional[Union[Group, int]], optional): 如果 member 为 Member 实例, 则不需要提供本项, 否则需要. 默认为 None.

        Raises:
            TypeError: 提供了错误的参数, 阅读有关文档得到问题原因

        Returns:
            MemberInfo: 指定群组成员的可修改状态
        &#34;&#34;&#34;
        if not group and not isinstance(member, Member):
            raise TypeError(&#34;you should give a Member instance if you cannot give a Group instance to me.&#34;)
        if isinstance(member, Member) and not group:
            group: Group = member.group
        result = await self.adapter.call_api(
            &#34;memberInfo&#34;,
            CallMethod.RESTGET,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
                &#34;memberId&#34;: member.id if isinstance(member, Member) else member,
            },
        )

        return MemberInfo.parse_obj(result)

    @app_ctx_manager
    async def modifyMemberInfo(
        self,
        member: Union[Member, int],
        info: MemberInfo,
        group: Optional[Union[Group, int]] = None,
    ):
        &#34;&#34;&#34;
        修改指定群组成员的可修改状态; 需要具有相应权限(管理员/群主).

        Args:
            member (Union[Member, int]): 指定的群组成员, 可为 Member 实例, 若前设成立, 则不需要提供 group.
            info (MemberInfo): 已修改的指定群组成员的可修改状态
            group (Optional[Union[Group, int]], optional): 如果 member 为 Member 实例, 则不需要提供本项, 否则需要. 默认为 None.

        Raises:
            TypeError: 提供了错误的参数, 阅读有关文档得到问题原因

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        if not group and not isinstance(member, Member):
            raise TypeError(&#34;you should give a Member instance if you cannot give a Group instance to me.&#34;)
        if isinstance(member, Member) and not group:
            group: Group = member.group
        await self.adapter.call_api(
            &#34;memberInfo&#34;,
            CallMethod.RESTPOST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
                &#34;memberId&#34;: member.id if isinstance(member, Member) else member,
                &#34;info&#34;: info.dict(exclude_none=True, exclude_unset=True, by_alias=True),
            },
        )

    @app_ctx_manager
    async def modifyMemberAdmin(
        self,
        assign: bool,
        member: Union[Member, int],
        group: Optional[Union[Group, int]] = None,
    ):
        &#34;&#34;&#34;
        修改一位群组成员管理员权限; 需要有相应权限(群主)

        Args:
            member (Union[Member, int]): 指定群成员, 可为 Member 实例, 若前设成立, 则不需要提供 group.
            assign (bool): 是否设置群成员为管理员.
            group (Optional[Union[Group, int]], optional): 如果 member 为 Member 实例, 则不需要提供本项, 否则需要. 默认为 None.

        Raises:
            TypeError: 提供了错误的参数, 阅读有关文档得到问题原因
            PermissionError: 没有相应操作权限.

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        if not group and not isinstance(member, Member):
            raise TypeError(&#34;you should give a Member instance if you cannot give a Group instance to me.&#34;)
        if isinstance(member, Member) and not group:
            group: Group = member.group

        await self.adapter.call_api(
            &#34;memberAdmin&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
                &#34;memberId&#34;: member.id if isinstance(member, Member) else member,
                &#34;assign&#34;: assign,
            },
        )


class FileMixin(AriadneMixin):
    &#34;&#34;&#34;用于对文件进行各种操作的 Mixin 类.&#34;&#34;&#34;

    @app_ctx_manager
    async def getFileList(
        self,
        target: Union[Friend, Group, int],
        id: str = &#34;&#34;,
        offset: Optional[int] = 0,
        size: Optional[int] = 1,
        with_download_info: bool = False,
    ) -&gt; List[FileInfo]:
        &#34;&#34;&#34;
        列出指定文件夹下的所有文件.

        Args:
            target (Union[Friend, Group, int]): 要列出文件的根位置,
            为群组或好友或QQ号（当前仅支持群组）
            id (str): 文件夹ID, 空串为根目录
            offset (int): 分页偏移
            size (int): 分页大小
            with_download_info (bool): 是否携带下载信息, 无必要不要携带

        Returns:
            List[FileInfo]: 返回的文件信息列表.
        &#34;&#34;&#34;
        if isinstance(target, Friend):
            raise NotImplementedError(f&#34;Not implemented for friend&#34;)

        target = target.id if isinstance(target, Friend) else target
        target = target.id if isinstance(target, Group) else target

        result = await self.adapter.call_api(
            &#34;file/list&#34;,
            CallMethod.GET,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;id&#34;: id,
                &#34;target&#34;: target,
                &#34;withDownloadInfo&#34;: str(with_download_info),  # yarl don&#39;t accept boolean
                &#34;offset&#34;: offset,
                &#34;size&#34;: size,
            },
        )
        return [FileInfo.parse_obj(i) for i in result]

    @app_ctx_manager
    async def getFileInfo(
        self,
        target: Union[Friend, Group, int],
        id: str = &#34;&#34;,
        with_download_info: bool = False,
    ) -&gt; FileInfo:
        &#34;&#34;&#34;
        获取指定文件的信息.

        Args:
            target (Union[Friend, Group, int]): 要列出文件的根位置,
            为群组或好友或QQ号（当前仅支持群组）
            id (str): 文件ID, 空串为根目录
            with_download_info (bool): 是否携带下载信息, 无必要不要携带

        Returns:
            FileInfo: 返回的文件信息.
        &#34;&#34;&#34;
        if isinstance(target, Friend):
            raise NotImplementedError(f&#34;Not implemented for friend&#34;)

        target = target.id if isinstance(target, Friend) else target
        target = target.id if isinstance(target, Group) else target

        result = await self.adapter.call_api(
            &#34;file/info&#34;,
            CallMethod.GET,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;id&#34;: id,
                &#34;target&#34;: target,
                &#34;withDownloadInfo&#34;: str(with_download_info),  # yarl don&#39;t accept boolean
            },
        )

        return FileInfo.parse_obj(result)

    @app_ctx_manager
    async def makeDirectory(
        self,
        target: Union[Friend, Group, int],
        name: str,
        id: str = &#34;&#34;,
    ) -&gt; FileInfo:
        &#34;&#34;&#34;
        在指定位置创建新文件夹.

        Args:
            target (Union[Friend, Group, int]): 要列出文件的根位置,
            为群组或好友或QQ号（当前仅支持群组）
            name (str): 要创建的文件夹名称.
            id (str): 上级文件夹ID, 空串为根目录

        Returns:
            FileInfo: 新创建文件夹的信息.
        &#34;&#34;&#34;
        if isinstance(target, Friend):
            raise NotImplementedError(f&#34;Not implemented for friend&#34;)

        target = target.id if isinstance(target, Friend) else target
        target = target.id if isinstance(target, Group) else target

        result = await self.adapter.call_api(
            &#34;file/mkdir&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;id&#34;: id,
                &#34;name&#34;: name,
                &#34;target&#34;: target,
            },
        )

        return FileInfo.parse_obj(result)

    @app_ctx_manager
    async def deleteFile(
        self,
        target: Union[Friend, Group, int],
        id: str = &#34;&#34;,
    ):
        &#34;&#34;&#34;
        删除指定文件.

        Args:
            target (Union[Friend, Group, int]): 要列出文件的根位置,
            为群组或好友或QQ号（当前仅支持群组）
            id (str): 文件ID

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        if isinstance(target, Friend):
            raise NotImplementedError(f&#34;Not implemented for friend&#34;)

        target = target.id if isinstance(target, Friend) else target
        target = target.id if isinstance(target, Group) else target

        await self.adapter.call_api(
            &#34;file/delete&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;id&#34;: id,
                &#34;target&#34;: target,
            },
        )

    @app_ctx_manager
    async def moveFile(
        self,
        target: Union[Friend, Group, int],
        id: str = &#34;&#34;,
        dest_id: str = &#34;&#34;,
    ):
        &#34;&#34;&#34;
        移动指定文件.

        Args:
            target (Union[Friend, Group, int]): 要列出文件的根位置,
            为群组或好友或QQ号（当前仅支持群组）
            id (str): 源文件ID
            dest_id (str): 目标文件夹ID

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        if isinstance(target, Friend):
            raise NotImplementedError(f&#34;Not implemented for friend&#34;)

        target = target.id if isinstance(target, Friend) else target
        target = target.id if isinstance(target, Group) else target

        await self.adapter.call_api(
            &#34;file/move&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;id&#34;: id,
                &#34;target&#34;: target,
                &#34;moveTo&#34;: dest_id,
            },
        )

    @app_ctx_manager
    async def renameFile(
        self,
        target: Union[Friend, Group, int],
        id: str = &#34;&#34;,
        dest_name: str = &#34;&#34;,
    ):
        &#34;&#34;&#34;
        重命名指定文件.

        Args:
            target (Union[Friend, Group, int]): 要列出文件的根位置,
            为群组或好友或QQ号（当前仅支持群组）
            id (str): 源文件ID
            dest_name (str): 目标文件新名称.

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        if isinstance(target, Friend):
            raise NotImplementedError(f&#34;Not implemented for friend&#34;)

        target = target.id if isinstance(target, Friend) else target
        target = target.id if isinstance(target, Group) else target

        await self.adapter.call_api(
            &#34;file/rename&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;id&#34;: id,
                &#34;target&#34;: target,
                &#34;renameTo&#34;: dest_name,
            },
        )

    @app_ctx_manager
    async def uploadFile(
        self,
        data: bytes,
        method: UploadMethod,
        target: Union[Friend, Group, int],
        path: str = &#34;&#34;,
    ) -&gt; &#34;FileInfo&#34;:
        &#34;&#34;&#34;
        上传文件到指定目标, 需要提供: 文件的原始数据(bytes), 文件的上传类型,
        上传目标, (可选)上传目录ID.
        Args:
            data (bytes): 文件的原始数据
            method (UploadMethod): 文件的上传类型
        Returns:
            FileInfo: 文件信息
        &#34;&#34;&#34;

        if method != UploadMethod.Group or isinstance(target, Friend):
            raise NotImplementedError(f&#34;Not implemented for {method}&#34;)

        target = target.id if isinstance(target, Friend) else target
        target = target.id if isinstance(target, Group) else target

        result = await self.adapter.call_api(
            &#34;file/upload&#34;,
            CallMethod.MULTIPART,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;type&#34;: method.value,
                &#34;target&#34;: target,
                &#34;path&#34;: path,
                &#34;file&#34;: data,
            },
        )

        return FileInfo.parse_obj(result)


class MultimediaMixin(AriadneMixin):
    &#34;&#34;&#34;用于与多媒体信息交互的 Mixin 类.&#34;&#34;&#34;

    @app_ctx_manager
    async def uploadImage(self, data: bytes, method: UploadMethod) -&gt; &#34;Image&#34;:
        &#34;&#34;&#34;上传一张图片到远端服务器, 需要提供: 图片的原始数据(bytes), 图片的上传类型.
        Args:
            image_bytes (bytes): 图片的原始数据
            method (UploadMethod): 图片的上传类型
        Returns:
            Image: 生成的图片消息元素
        &#34;&#34;&#34;
        from .message.element import Image

        result = await self.adapter.call_api(
            &#34;uploadImage&#34;,
            CallMethod.MULTIPART,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;type&#34;: method.value,
                &#34;img&#34;: data,
            },
        )

        return Image.parse_obj(result)

    @app_ctx_manager
    async def uploadVoice(self, data: bytes, method: UploadMethod) -&gt; &#34;Voice&#34;:
        &#34;&#34;&#34;上传语音到远端服务器, 需要提供: 语音的原始数据(bytes), 语音的上传类型.
        Args:
            data (bytes): 语音的原始数据
            method (UploadMethod): 语音的上传类型
        Returns:
            Voice: 生成的语音消息元素
        &#34;&#34;&#34;
        from .message.element import Voice

        result = await self.adapter.call_api(
            &#34;uploadVoice&#34;,
            CallMethod.MULTIPART,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;type&#34;: method.value,
                &#34;voice&#34;: data,
            },
        )

        return Voice.parse_obj(result)


T = TypeVar(&#34;T&#34;)


class Ariadne(MessageMixin, RelationshipMixin, OperationMixin, FileMixin, MultimediaMixin):
    &#34;&#34;&#34;
    艾莉亚德妮 (Ariadne).

    面向 `mirai-api-http` 接口的实际功能实现.

    你的应用大多都围绕着本类及本类的实例展开.

    Attributes:
        broadcast (Broadcast): 被指定的, 外置的事件系统, 即 `Broadcast Control`,
            通常你不需要干涉该属性;
        adapter (Adapter): 后端适配器, 负责实际与 `mirai-api-http` 进行交互.
    &#34;&#34;&#34;

    def __init__(
        self,
        connect_info: Union[Adapter, MiraiSession],
        *,
        loop: Optional[AbstractEventLoop] = None,
        broadcast: Optional[Broadcast] = None,
        max_retry: int = -1,
        chat_log_config: Optional[Union[ChatLogConfig, Literal[False]]] = None,
        use_loguru_traceback: Optional[bool] = True,
        use_bypass_listener: Optional[bool] = False,
        await_task: bool = False,
        disable_telemetry: bool = False,
        disable_logo: bool = False,
    ):
        &#34;&#34;&#34;
        初始化 Ariadne.

        Args:
            connect_info (Union[Adapter, MiraiSession]) 提供与 `mirai-api-http` 交互的信息.
            loop (AbstractEventLoop, optional): 事件循环.
            broadcast (Broadcast, optional): 被指定的, 外置的事件系统, 即 `Broadcast Control` 实例.
            chat_log_config (ChatLogConfig or Literal[False]): 聊天日志的配置, 请移步 `ChatLogConfig` 查看使用方法. 设置为 False 则会完全禁用聊天日志.
            use_loguru_traceback (bool): 是否注入 loguru 以获得对 traceback.print_exception() 与 sys.excepthook 的完全控制.
            use_bypass_listener (bool): 是否注入 BypassListener 以获得子事件监听支持.
            await_task (bool): 是否等待所有 Executor 任务完成再退出.
            disable_telemetry (bool): 是否禁用版本记录.
            disable_logo (bool): 是否禁用 logo 显示.
        &#34;&#34;&#34;
        if broadcast:
            loop = broadcast.loop
        elif isinstance(connect_info, Adapter):
            broadcast = connect_info.broadcast
            loop = broadcast.loop
        if not loop:
            try:
                loop = asyncio.get_running_loop()
            except RuntimeError:
                loop = asyncio.new_event_loop()
        self.loop = loop
        self.broadcast: Broadcast = broadcast or Broadcast(loop=self.loop)
        self.adapter: Adapter = (
            connect_info
            if isinstance(connect_info, Adapter)
            else DefaultAdapter(self.broadcast, connect_info)
        )
        self.mirai_session: MiraiSession = self.adapter.mirai_session

        self.daemon_task: Optional[Task] = None
        self.status: AriadneStatus = AriadneStatus.STOP
        self.remote_version: str = &#34;&#34;
        self.max_retry: int = max_retry
        self.await_task: bool = await_task
        self.disable_telemetry: bool = disable_telemetry
        self.disable_logo: bool = disable_logo
        self.info: Dict[type, object] = {
            Ariadne: self,
            Broadcast: self.broadcast,
            AbstractEventLoop: self.loop,
            Adapter: self.adapter,
            MiraiSession: self.mirai_session,
        }

        chat_log_enabled = True if chat_log_config is not False else False
        self.chat_log_cfg: ChatLogConfig = (
            chat_log_config if chat_log_config else ChatLogConfig(enabled=chat_log_enabled)
        )

        logger.remove(0)
        logger.add(StdoutProxy(raw=True), colorize=True)

        if use_bypass_listener:
            inject_bypass_listener(self.broadcast)
        if use_loguru_traceback:
            inject_loguru_traceback(self.loop)

    def create(self, cls: Type[T], reuse: bool = True) -&gt; T:
        &#34;&#34;&#34;利用 Ariadne 已有的信息协助创建实例.

        Args:
            cls (Type[T]): 需要创建的类.
            reuse (bool, optional): 是否允许复用, 默认为 True.

        Returns:
            T: 创建的类.
        &#34;&#34;&#34;
        self.info: Dict[Type[T], T]
        if cls in self.info.keys():
            return self.info[cls]
        call_args: list = []
        call_kwargs: Dict[str, Any] = {}
        import inspect

        init_sig = inspect.signature(cls)

        for name, param in init_sig.parameters.items():
            if param.annotation in self.info.keys() and param.kind not in (
                param.VAR_KEYWORD,
                param.VAR_POSITIONAL,
            ):
                if param.kind is param.POSITIONAL_ONLY:
                    call_args.append(self.info[param.annotation])
                else:
                    call_kwargs[name] = self.info[param.annotation]
        obj: T = cls(*call_args, **call_kwargs)
        if reuse:
            self.info[cls] = obj
        return obj

    async def daemon(self, retry_interval: float = 5.0):
        retry_cnt: int = 0

        logger.debug(&#34;Ariadne daemon started.&#34;)

        while self.status in {AriadneStatus.RUNNING, AriadneStatus.LAUNCH}:
            try:
                self.broadcast.postEvent(AdapterLaunched(self))
                try:
                    await self.adapter.start()
                    await await_predicate(lambda: self.adapter.session_activated)
                    async for event in yield_with_timeout(
                        self.adapter.queue.get,
                        lambda: (
                            self.adapter.running
                            and self.status in {AriadneStatus.RUNNING, AriadneStatus.LAUNCH}
                        ),
                    ):
                        with enter_context(self, event):
                            self.broadcast.postEvent(event)
                except Exception as e:
                    logger.exception(e)
                    await self.adapter.stop()
                if not self.session_key:
                    retry_cnt += 1
                else:
                    retry_cnt = 0
                self.broadcast.postEvent(AdapterShutdowned(self))
                if retry_cnt == self.max_retry:
                    logger.critical(f&#34;Max retry exceeded: {self.max_retry}&#34;)
                    break
                if self.status in {AriadneStatus.RUNNING, AriadneStatus.LAUNCH}:
                    logger.warning(f&#34;daemon: adapter down, restart in {retry_interval}s&#34;)
                    await asyncio.sleep(retry_interval)
                    logger.info(&#34;daemon: restarting adapter&#34;)
            except CancelledError:
                pass
        logger.debug(&#34;Ariadne daemon stopped.&#34;)

        exceptions: List[Tuple[Type[Exception], tuple]] = []

        self.broadcast.postEvent(ApplicationShutdowned(self))
        logger.info(&#34;Stopping Ariadne...&#34;)
        self.status = AriadneStatus.CLEANUP
        for t in asyncio.all_tasks(self.loop):
            if (
                t is not asyncio.current_task(self.loop)
                and hasattr(t.get_coro(), &#34;__qualname__&#34;)
                and t.get_coro().__qualname__ == &#34;Broadcast.Executor&#34;
            ):
                if not self.await_task:
                    t.cancel()
                try:
                    await t
                except BaseException as e:
                    exceptions.append((e.__class__, e.args))
        await self.adapter.stop()
        self.status = AriadneStatus.STOP
        logger.info(&#34;Stopped Ariadne.&#34;)
        return exceptions

    async def launch(self):
        &#34;&#34;&#34;启动 Ariadne.&#34;&#34;&#34;
        if self.status is AriadneStatus.STOP:
            self.status = AriadneStatus.LAUNCH
            start_time = time.time()

            # Logo
            if not self.disable_logo:
                logger.opt(colors=True, raw=True).info(f&#34;&lt;cyan&gt;{ARIADNE_ASCII_LOGO}&lt;/&gt;&#34;)

            # Telemetry
            if not self.disable_telemetry:
                for dist in importlib.metadata.distributions():
                    name: str = dist.metadata[&#34;Name&#34;]
                    version: str = dist.version
                    if name.startswith(&#34;graia&#34;):
                        name = &#34; &#34;.join(name.split(&#34;-&#34;)[1:]).title()  # remove graia prefix
                        logger.opt(colors=True, raw=True).info(
                            f&#34;&lt;magenta&gt;{name}&lt;/&gt; version: &lt;yellow&gt;{version}&lt;/&gt;\n&#34;
                        )

            logger.info(&#34;Launching app...&#34;)
            self.broadcast.dispatcher_interface.inject_global_raw(ApplicationMiddlewareDispatcher(self))
            if self.chat_log_cfg.enabled:
                self.chat_log_cfg.initialize(self)
            self.daemon_task = self.loop.create_task(self.daemon(), name=&#34;ariadne_daemon&#34;)
            await await_predicate(lambda: self.adapter.session_activated, 0.0001)
            self.status = AriadneStatus.RUNNING
            self.remote_version = await self.getVersion()
            logger.info(f&#34;Remote version: {self.remote_version}&#34;)
            if not self.remote_version.startswith(&#34;2&#34;):
                raise RuntimeError(f&#34;You are using an unsupported version: {self.remote_version}!&#34;)
            logger.info(f&#34;Application launched with {time.time() - start_time:.2}s&#34;)
            self.broadcast.postEvent(ApplicationLaunched(self))

    async def request_stop(self):
        &#34;&#34;&#34;请求停止 Ariadne.&#34;&#34;&#34;
        if self.status is AriadneStatus.RUNNING:
            self.status = AriadneStatus.SHUTDOWN
            await await_predicate(lambda: self.status in {AriadneStatus.CLEANUP, AriadneStatus.STOP})

    async def wait_for_stop(self):
        &#34;&#34;&#34;等待直到 Ariadne 真正停止.
        不要在与 Broadcast 相关的任务中使用.
        &#34;&#34;&#34;
        if self.status is AriadneStatus.RUNNING:
            await self.request_stop()
            await await_predicate(lambda: self.status is AriadneStatus.STOP)
            await self.daemon_task

    async def lifecycle(self):
        await self.launch()
        await self.daemon_task
        await self.wait_for_stop()

    def launch_blocking(self):
        try:
            self.loop.run_until_complete(self.lifecycle())
        except KeyboardInterrupt:
            self.loop.run_until_complete(self.wait_for_stop())

    @app_ctx_manager
    async def getVersion(self, auto_set: bool = True):
        if self.mirai_session.version:
            return self.mirai_session.version
        result = await self.adapter.call_api.__wrapped__(self.adapter, &#34;about&#34;, CallMethod.GET)
        version = result[&#34;version&#34;]
        if auto_set:
            self.mirai_session.version = version
        return version

    async def __aenter__(self) -&gt; &#34;Ariadne&#34;:
        await self.launch()

        return self

    async def __aexit__(self, *exc):
        await self.wait_for_stop()

    @property
    def account(self) -&gt; Optional[int]:
        return self.adapter.mirai_session.account</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="ariadne.app.Ariadne"><code class="flex name class">
<span>class <span class="ident">Ariadne</span></span>
<span>(</span><span>connect_info: Union[<a title="ariadne.adapter.Adapter" href="adapter.html#ariadne.adapter.Adapter">Adapter</a>, <a title="ariadne.model.MiraiSession" href="model.html#ariadne.model.MiraiSession">MiraiSession</a>], *, loop: Optional[asyncio.events.AbstractEventLoop] = None, broadcast: Optional[graia.broadcast.Broadcast] = None, max_retry: int = -1, chat_log_config: Union[<a title="ariadne.model.ChatLogConfig" href="model.html#ariadne.model.ChatLogConfig">ChatLogConfig</a>, Literal[False], ForwardRef(None)] = None, use_loguru_traceback: Optional[bool] = True, use_bypass_listener: Optional[bool] = False, await_task: bool = False, disable_telemetry: bool = False, disable_logo: bool = False)</span>
</code></dt>
<dd>
<div class="desc"><p>艾莉亚德妮 (Ariadne).</p>
<p>面向 <code>mirai-api-http</code> 接口的实际功能实现.</p>
<p>你的应用大多都围绕着本类及本类的实例展开.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>broadcast</code></strong> :&ensp;<code>Broadcast</code></dt>
<dd>被指定的, 外置的事件系统, 即 <code>Broadcast Control</code>,
通常你不需要干涉该属性;</dd>
<dt><strong><code>adapter</code></strong> :&ensp;<code>Adapter</code></dt>
<dd>后端适配器, 负责实际与 <code>mirai-api-http</code> 进行交互.</dd>
</dl>
<p>初始化 Ariadne.</p>
<h2 id="args">Args</h2>
<dl>
<dt>connect_info (Union[Adapter, MiraiSession]) 提供与 <code>mirai-api-http</code> 交互的信息.</dt>
<dt><strong><code>loop</code></strong> :&ensp;<code>AbstractEventLoop</code>, optional</dt>
<dd>事件循环.</dd>
<dt><strong><code>broadcast</code></strong> :&ensp;<code>Broadcast</code>, optional</dt>
<dd>被指定的, 外置的事件系统, 即 <code>Broadcast Control</code> 实例.</dd>
<dt><strong><code>chat_log_config</code></strong> :&ensp;<code>ChatLogConfig</code> or <code>Literal[False]</code></dt>
<dd>聊天日志的配置, 请移步 <code>ChatLogConfig</code> 查看使用方法. 设置为 False 则会完全禁用聊天日志.</dd>
<dt><strong><code>use_loguru_traceback</code></strong> :&ensp;<code>bool</code></dt>
<dd>是否注入 loguru 以获得对 traceback.print_exception() 与 sys.excepthook 的完全控制.</dd>
<dt><strong><code>use_bypass_listener</code></strong> :&ensp;<code>bool</code></dt>
<dd>是否注入 BypassListener 以获得子事件监听支持.</dd>
<dt><strong><code>await_task</code></strong> :&ensp;<code>bool</code></dt>
<dd>是否等待所有 Executor 任务完成再退出.</dd>
<dt><strong><code>disable_telemetry</code></strong> :&ensp;<code>bool</code></dt>
<dd>是否禁用版本记录.</dd>
<dt><strong><code>disable_logo</code></strong> :&ensp;<code>bool</code></dt>
<dd>是否禁用 logo 显示.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Ariadne(MessageMixin, RelationshipMixin, OperationMixin, FileMixin, MultimediaMixin):
    &#34;&#34;&#34;
    艾莉亚德妮 (Ariadne).

    面向 `mirai-api-http` 接口的实际功能实现.

    你的应用大多都围绕着本类及本类的实例展开.

    Attributes:
        broadcast (Broadcast): 被指定的, 外置的事件系统, 即 `Broadcast Control`,
            通常你不需要干涉该属性;
        adapter (Adapter): 后端适配器, 负责实际与 `mirai-api-http` 进行交互.
    &#34;&#34;&#34;

    def __init__(
        self,
        connect_info: Union[Adapter, MiraiSession],
        *,
        loop: Optional[AbstractEventLoop] = None,
        broadcast: Optional[Broadcast] = None,
        max_retry: int = -1,
        chat_log_config: Optional[Union[ChatLogConfig, Literal[False]]] = None,
        use_loguru_traceback: Optional[bool] = True,
        use_bypass_listener: Optional[bool] = False,
        await_task: bool = False,
        disable_telemetry: bool = False,
        disable_logo: bool = False,
    ):
        &#34;&#34;&#34;
        初始化 Ariadne.

        Args:
            connect_info (Union[Adapter, MiraiSession]) 提供与 `mirai-api-http` 交互的信息.
            loop (AbstractEventLoop, optional): 事件循环.
            broadcast (Broadcast, optional): 被指定的, 外置的事件系统, 即 `Broadcast Control` 实例.
            chat_log_config (ChatLogConfig or Literal[False]): 聊天日志的配置, 请移步 `ChatLogConfig` 查看使用方法. 设置为 False 则会完全禁用聊天日志.
            use_loguru_traceback (bool): 是否注入 loguru 以获得对 traceback.print_exception() 与 sys.excepthook 的完全控制.
            use_bypass_listener (bool): 是否注入 BypassListener 以获得子事件监听支持.
            await_task (bool): 是否等待所有 Executor 任务完成再退出.
            disable_telemetry (bool): 是否禁用版本记录.
            disable_logo (bool): 是否禁用 logo 显示.
        &#34;&#34;&#34;
        if broadcast:
            loop = broadcast.loop
        elif isinstance(connect_info, Adapter):
            broadcast = connect_info.broadcast
            loop = broadcast.loop
        if not loop:
            try:
                loop = asyncio.get_running_loop()
            except RuntimeError:
                loop = asyncio.new_event_loop()
        self.loop = loop
        self.broadcast: Broadcast = broadcast or Broadcast(loop=self.loop)
        self.adapter: Adapter = (
            connect_info
            if isinstance(connect_info, Adapter)
            else DefaultAdapter(self.broadcast, connect_info)
        )
        self.mirai_session: MiraiSession = self.adapter.mirai_session

        self.daemon_task: Optional[Task] = None
        self.status: AriadneStatus = AriadneStatus.STOP
        self.remote_version: str = &#34;&#34;
        self.max_retry: int = max_retry
        self.await_task: bool = await_task
        self.disable_telemetry: bool = disable_telemetry
        self.disable_logo: bool = disable_logo
        self.info: Dict[type, object] = {
            Ariadne: self,
            Broadcast: self.broadcast,
            AbstractEventLoop: self.loop,
            Adapter: self.adapter,
            MiraiSession: self.mirai_session,
        }

        chat_log_enabled = True if chat_log_config is not False else False
        self.chat_log_cfg: ChatLogConfig = (
            chat_log_config if chat_log_config else ChatLogConfig(enabled=chat_log_enabled)
        )

        logger.remove(0)
        logger.add(StdoutProxy(raw=True), colorize=True)

        if use_bypass_listener:
            inject_bypass_listener(self.broadcast)
        if use_loguru_traceback:
            inject_loguru_traceback(self.loop)

    def create(self, cls: Type[T], reuse: bool = True) -&gt; T:
        &#34;&#34;&#34;利用 Ariadne 已有的信息协助创建实例.

        Args:
            cls (Type[T]): 需要创建的类.
            reuse (bool, optional): 是否允许复用, 默认为 True.

        Returns:
            T: 创建的类.
        &#34;&#34;&#34;
        self.info: Dict[Type[T], T]
        if cls in self.info.keys():
            return self.info[cls]
        call_args: list = []
        call_kwargs: Dict[str, Any] = {}
        import inspect

        init_sig = inspect.signature(cls)

        for name, param in init_sig.parameters.items():
            if param.annotation in self.info.keys() and param.kind not in (
                param.VAR_KEYWORD,
                param.VAR_POSITIONAL,
            ):
                if param.kind is param.POSITIONAL_ONLY:
                    call_args.append(self.info[param.annotation])
                else:
                    call_kwargs[name] = self.info[param.annotation]
        obj: T = cls(*call_args, **call_kwargs)
        if reuse:
            self.info[cls] = obj
        return obj

    async def daemon(self, retry_interval: float = 5.0):
        retry_cnt: int = 0

        logger.debug(&#34;Ariadne daemon started.&#34;)

        while self.status in {AriadneStatus.RUNNING, AriadneStatus.LAUNCH}:
            try:
                self.broadcast.postEvent(AdapterLaunched(self))
                try:
                    await self.adapter.start()
                    await await_predicate(lambda: self.adapter.session_activated)
                    async for event in yield_with_timeout(
                        self.adapter.queue.get,
                        lambda: (
                            self.adapter.running
                            and self.status in {AriadneStatus.RUNNING, AriadneStatus.LAUNCH}
                        ),
                    ):
                        with enter_context(self, event):
                            self.broadcast.postEvent(event)
                except Exception as e:
                    logger.exception(e)
                    await self.adapter.stop()
                if not self.session_key:
                    retry_cnt += 1
                else:
                    retry_cnt = 0
                self.broadcast.postEvent(AdapterShutdowned(self))
                if retry_cnt == self.max_retry:
                    logger.critical(f&#34;Max retry exceeded: {self.max_retry}&#34;)
                    break
                if self.status in {AriadneStatus.RUNNING, AriadneStatus.LAUNCH}:
                    logger.warning(f&#34;daemon: adapter down, restart in {retry_interval}s&#34;)
                    await asyncio.sleep(retry_interval)
                    logger.info(&#34;daemon: restarting adapter&#34;)
            except CancelledError:
                pass
        logger.debug(&#34;Ariadne daemon stopped.&#34;)

        exceptions: List[Tuple[Type[Exception], tuple]] = []

        self.broadcast.postEvent(ApplicationShutdowned(self))
        logger.info(&#34;Stopping Ariadne...&#34;)
        self.status = AriadneStatus.CLEANUP
        for t in asyncio.all_tasks(self.loop):
            if (
                t is not asyncio.current_task(self.loop)
                and hasattr(t.get_coro(), &#34;__qualname__&#34;)
                and t.get_coro().__qualname__ == &#34;Broadcast.Executor&#34;
            ):
                if not self.await_task:
                    t.cancel()
                try:
                    await t
                except BaseException as e:
                    exceptions.append((e.__class__, e.args))
        await self.adapter.stop()
        self.status = AriadneStatus.STOP
        logger.info(&#34;Stopped Ariadne.&#34;)
        return exceptions

    async def launch(self):
        &#34;&#34;&#34;启动 Ariadne.&#34;&#34;&#34;
        if self.status is AriadneStatus.STOP:
            self.status = AriadneStatus.LAUNCH
            start_time = time.time()

            # Logo
            if not self.disable_logo:
                logger.opt(colors=True, raw=True).info(f&#34;&lt;cyan&gt;{ARIADNE_ASCII_LOGO}&lt;/&gt;&#34;)

            # Telemetry
            if not self.disable_telemetry:
                for dist in importlib.metadata.distributions():
                    name: str = dist.metadata[&#34;Name&#34;]
                    version: str = dist.version
                    if name.startswith(&#34;graia&#34;):
                        name = &#34; &#34;.join(name.split(&#34;-&#34;)[1:]).title()  # remove graia prefix
                        logger.opt(colors=True, raw=True).info(
                            f&#34;&lt;magenta&gt;{name}&lt;/&gt; version: &lt;yellow&gt;{version}&lt;/&gt;\n&#34;
                        )

            logger.info(&#34;Launching app...&#34;)
            self.broadcast.dispatcher_interface.inject_global_raw(ApplicationMiddlewareDispatcher(self))
            if self.chat_log_cfg.enabled:
                self.chat_log_cfg.initialize(self)
            self.daemon_task = self.loop.create_task(self.daemon(), name=&#34;ariadne_daemon&#34;)
            await await_predicate(lambda: self.adapter.session_activated, 0.0001)
            self.status = AriadneStatus.RUNNING
            self.remote_version = await self.getVersion()
            logger.info(f&#34;Remote version: {self.remote_version}&#34;)
            if not self.remote_version.startswith(&#34;2&#34;):
                raise RuntimeError(f&#34;You are using an unsupported version: {self.remote_version}!&#34;)
            logger.info(f&#34;Application launched with {time.time() - start_time:.2}s&#34;)
            self.broadcast.postEvent(ApplicationLaunched(self))

    async def request_stop(self):
        &#34;&#34;&#34;请求停止 Ariadne.&#34;&#34;&#34;
        if self.status is AriadneStatus.RUNNING:
            self.status = AriadneStatus.SHUTDOWN
            await await_predicate(lambda: self.status in {AriadneStatus.CLEANUP, AriadneStatus.STOP})

    async def wait_for_stop(self):
        &#34;&#34;&#34;等待直到 Ariadne 真正停止.
        不要在与 Broadcast 相关的任务中使用.
        &#34;&#34;&#34;
        if self.status is AriadneStatus.RUNNING:
            await self.request_stop()
            await await_predicate(lambda: self.status is AriadneStatus.STOP)
            await self.daemon_task

    async def lifecycle(self):
        await self.launch()
        await self.daemon_task
        await self.wait_for_stop()

    def launch_blocking(self):
        try:
            self.loop.run_until_complete(self.lifecycle())
        except KeyboardInterrupt:
            self.loop.run_until_complete(self.wait_for_stop())

    @app_ctx_manager
    async def getVersion(self, auto_set: bool = True):
        if self.mirai_session.version:
            return self.mirai_session.version
        result = await self.adapter.call_api.__wrapped__(self.adapter, &#34;about&#34;, CallMethod.GET)
        version = result[&#34;version&#34;]
        if auto_set:
            self.mirai_session.version = version
        return version

    async def __aenter__(self) -&gt; &#34;Ariadne&#34;:
        await self.launch()

        return self

    async def __aexit__(self, *exc):
        await self.wait_for_stop()

    @property
    def account(self) -&gt; Optional[int]:
        return self.adapter.mirai_session.account</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="ariadne.app.MessageMixin" href="#ariadne.app.MessageMixin">MessageMixin</a></li>
<li><a title="ariadne.app.RelationshipMixin" href="#ariadne.app.RelationshipMixin">RelationshipMixin</a></li>
<li><a title="ariadne.app.OperationMixin" href="#ariadne.app.OperationMixin">OperationMixin</a></li>
<li><a title="ariadne.app.FileMixin" href="#ariadne.app.FileMixin">FileMixin</a></li>
<li><a title="ariadne.app.MultimediaMixin" href="#ariadne.app.MultimediaMixin">MultimediaMixin</a></li>
<li><a title="ariadne.app.AriadneMixin" href="#ariadne.app.AriadneMixin">AriadneMixin</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="ariadne.app.Ariadne.adapter"><code class="name">var <span class="ident">adapter</span> : <a title="ariadne.adapter.Adapter" href="adapter.html#ariadne.adapter.Adapter">Adapter</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ariadne.app.Ariadne.broadcast"><code class="name">var <span class="ident">broadcast</span> : graia.broadcast.Broadcast</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ariadne.app.Ariadne.mirai_session"><code class="name">var <span class="ident">mirai_session</span> : <a title="ariadne.model.MiraiSession" href="model.html#ariadne.model.MiraiSession">MiraiSession</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Instance variables</h3>
<dl>
<dt id="ariadne.app.Ariadne.account"><code class="name">var <span class="ident">account</span> : Optional[int]</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def account(self) -&gt; Optional[int]:
    return self.adapter.mirai_session.account</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="ariadne.app.Ariadne.create"><code class="name flex">
<span>def <span class="ident">create</span></span>(<span>self, cls: Type[~T], reuse: bool = True) ‑> ~T</span>
</code></dt>
<dd>
<div class="desc"><p>利用 Ariadne 已有的信息协助创建实例.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>cls</code></strong> :&ensp;<code>Type[T]</code></dt>
<dd>需要创建的类.</dd>
<dt><strong><code>reuse</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>是否允许复用, 默认为 True.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>T</code></dt>
<dd>创建的类.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create(self, cls: Type[T], reuse: bool = True) -&gt; T:
    &#34;&#34;&#34;利用 Ariadne 已有的信息协助创建实例.

    Args:
        cls (Type[T]): 需要创建的类.
        reuse (bool, optional): 是否允许复用, 默认为 True.

    Returns:
        T: 创建的类.
    &#34;&#34;&#34;
    self.info: Dict[Type[T], T]
    if cls in self.info.keys():
        return self.info[cls]
    call_args: list = []
    call_kwargs: Dict[str, Any] = {}
    import inspect

    init_sig = inspect.signature(cls)

    for name, param in init_sig.parameters.items():
        if param.annotation in self.info.keys() and param.kind not in (
            param.VAR_KEYWORD,
            param.VAR_POSITIONAL,
        ):
            if param.kind is param.POSITIONAL_ONLY:
                call_args.append(self.info[param.annotation])
            else:
                call_kwargs[name] = self.info[param.annotation]
    obj: T = cls(*call_args, **call_kwargs)
    if reuse:
        self.info[cls] = obj
    return obj</code></pre>
</details>
</dd>
<dt id="ariadne.app.Ariadne.daemon"><code class="name flex">
<span>async def <span class="ident">daemon</span></span>(<span>self, retry_interval: float = 5.0)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def daemon(self, retry_interval: float = 5.0):
    retry_cnt: int = 0

    logger.debug(&#34;Ariadne daemon started.&#34;)

    while self.status in {AriadneStatus.RUNNING, AriadneStatus.LAUNCH}:
        try:
            self.broadcast.postEvent(AdapterLaunched(self))
            try:
                await self.adapter.start()
                await await_predicate(lambda: self.adapter.session_activated)
                async for event in yield_with_timeout(
                    self.adapter.queue.get,
                    lambda: (
                        self.adapter.running
                        and self.status in {AriadneStatus.RUNNING, AriadneStatus.LAUNCH}
                    ),
                ):
                    with enter_context(self, event):
                        self.broadcast.postEvent(event)
            except Exception as e:
                logger.exception(e)
                await self.adapter.stop()
            if not self.session_key:
                retry_cnt += 1
            else:
                retry_cnt = 0
            self.broadcast.postEvent(AdapterShutdowned(self))
            if retry_cnt == self.max_retry:
                logger.critical(f&#34;Max retry exceeded: {self.max_retry}&#34;)
                break
            if self.status in {AriadneStatus.RUNNING, AriadneStatus.LAUNCH}:
                logger.warning(f&#34;daemon: adapter down, restart in {retry_interval}s&#34;)
                await asyncio.sleep(retry_interval)
                logger.info(&#34;daemon: restarting adapter&#34;)
        except CancelledError:
            pass
    logger.debug(&#34;Ariadne daemon stopped.&#34;)

    exceptions: List[Tuple[Type[Exception], tuple]] = []

    self.broadcast.postEvent(ApplicationShutdowned(self))
    logger.info(&#34;Stopping Ariadne...&#34;)
    self.status = AriadneStatus.CLEANUP
    for t in asyncio.all_tasks(self.loop):
        if (
            t is not asyncio.current_task(self.loop)
            and hasattr(t.get_coro(), &#34;__qualname__&#34;)
            and t.get_coro().__qualname__ == &#34;Broadcast.Executor&#34;
        ):
            if not self.await_task:
                t.cancel()
            try:
                await t
            except BaseException as e:
                exceptions.append((e.__class__, e.args))
    await self.adapter.stop()
    self.status = AriadneStatus.STOP
    logger.info(&#34;Stopped Ariadne.&#34;)
    return exceptions</code></pre>
</details>
</dd>
<dt id="ariadne.app.Ariadne.getVersion"><code class="name flex">
<span>async def <span class="ident">getVersion</span></span>(<span>self, auto_set: bool = True)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def getVersion(self, auto_set: bool = True):
    if self.mirai_session.version:
        return self.mirai_session.version
    result = await self.adapter.call_api.__wrapped__(self.adapter, &#34;about&#34;, CallMethod.GET)
    version = result[&#34;version&#34;]
    if auto_set:
        self.mirai_session.version = version
    return version</code></pre>
</details>
</dd>
<dt id="ariadne.app.Ariadne.launch"><code class="name flex">
<span>async def <span class="ident">launch</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>启动 Ariadne.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def launch(self):
    &#34;&#34;&#34;启动 Ariadne.&#34;&#34;&#34;
    if self.status is AriadneStatus.STOP:
        self.status = AriadneStatus.LAUNCH
        start_time = time.time()

        # Logo
        if not self.disable_logo:
            logger.opt(colors=True, raw=True).info(f&#34;&lt;cyan&gt;{ARIADNE_ASCII_LOGO}&lt;/&gt;&#34;)

        # Telemetry
        if not self.disable_telemetry:
            for dist in importlib.metadata.distributions():
                name: str = dist.metadata[&#34;Name&#34;]
                version: str = dist.version
                if name.startswith(&#34;graia&#34;):
                    name = &#34; &#34;.join(name.split(&#34;-&#34;)[1:]).title()  # remove graia prefix
                    logger.opt(colors=True, raw=True).info(
                        f&#34;&lt;magenta&gt;{name}&lt;/&gt; version: &lt;yellow&gt;{version}&lt;/&gt;\n&#34;
                    )

        logger.info(&#34;Launching app...&#34;)
        self.broadcast.dispatcher_interface.inject_global_raw(ApplicationMiddlewareDispatcher(self))
        if self.chat_log_cfg.enabled:
            self.chat_log_cfg.initialize(self)
        self.daemon_task = self.loop.create_task(self.daemon(), name=&#34;ariadne_daemon&#34;)
        await await_predicate(lambda: self.adapter.session_activated, 0.0001)
        self.status = AriadneStatus.RUNNING
        self.remote_version = await self.getVersion()
        logger.info(f&#34;Remote version: {self.remote_version}&#34;)
        if not self.remote_version.startswith(&#34;2&#34;):
            raise RuntimeError(f&#34;You are using an unsupported version: {self.remote_version}!&#34;)
        logger.info(f&#34;Application launched with {time.time() - start_time:.2}s&#34;)
        self.broadcast.postEvent(ApplicationLaunched(self))</code></pre>
</details>
</dd>
<dt id="ariadne.app.Ariadne.launch_blocking"><code class="name flex">
<span>def <span class="ident">launch_blocking</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def launch_blocking(self):
    try:
        self.loop.run_until_complete(self.lifecycle())
    except KeyboardInterrupt:
        self.loop.run_until_complete(self.wait_for_stop())</code></pre>
</details>
</dd>
<dt id="ariadne.app.Ariadne.lifecycle"><code class="name flex">
<span>async def <span class="ident">lifecycle</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def lifecycle(self):
    await self.launch()
    await self.daemon_task
    await self.wait_for_stop()</code></pre>
</details>
</dd>
<dt id="ariadne.app.Ariadne.request_stop"><code class="name flex">
<span>async def <span class="ident">request_stop</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>请求停止 Ariadne.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def request_stop(self):
    &#34;&#34;&#34;请求停止 Ariadne.&#34;&#34;&#34;
    if self.status is AriadneStatus.RUNNING:
        self.status = AriadneStatus.SHUTDOWN
        await await_predicate(lambda: self.status in {AriadneStatus.CLEANUP, AriadneStatus.STOP})</code></pre>
</details>
</dd>
<dt id="ariadne.app.Ariadne.wait_for_stop"><code class="name flex">
<span>async def <span class="ident">wait_for_stop</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>等待直到 Ariadne 真正停止.
不要在与 Broadcast 相关的任务中使用.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def wait_for_stop(self):
    &#34;&#34;&#34;等待直到 Ariadne 真正停止.
    不要在与 Broadcast 相关的任务中使用.
    &#34;&#34;&#34;
    if self.status is AriadneStatus.RUNNING:
        await self.request_stop()
        await await_predicate(lambda: self.status is AriadneStatus.STOP)
        await self.daemon_task</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="ariadne.app.MessageMixin" href="#ariadne.app.MessageMixin">MessageMixin</a></b></code>:
<ul class="hlist">
<li><code><a title="ariadne.app.MessageMixin.recallMessage" href="#ariadne.app.MessageMixin.recallMessage">recallMessage</a></code></li>
<li><code><a title="ariadne.app.MessageMixin.sendFriendMessage" href="#ariadne.app.MessageMixin.sendFriendMessage">sendFriendMessage</a></code></li>
<li><code><a title="ariadne.app.MessageMixin.sendGroupMessage" href="#ariadne.app.MessageMixin.sendGroupMessage">sendGroupMessage</a></code></li>
<li><code><a title="ariadne.app.MessageMixin.sendMessage" href="#ariadne.app.MessageMixin.sendMessage">sendMessage</a></code></li>
<li><code><a title="ariadne.app.MessageMixin.sendNudge" href="#ariadne.app.MessageMixin.sendNudge">sendNudge</a></code></li>
<li><code><a title="ariadne.app.MessageMixin.sendTempMessage" href="#ariadne.app.MessageMixin.sendTempMessage">sendTempMessage</a></code></li>
</ul>
</li>
<li><code><b><a title="ariadne.app.RelationshipMixin" href="#ariadne.app.RelationshipMixin">RelationshipMixin</a></b></code>:
<ul class="hlist">
<li><code><a title="ariadne.app.RelationshipMixin.getFriend" href="#ariadne.app.RelationshipMixin.getFriend">getFriend</a></code></li>
<li><code><a title="ariadne.app.RelationshipMixin.getGroup" href="#ariadne.app.RelationshipMixin.getGroup">getGroup</a></code></li>
<li><code><a title="ariadne.app.RelationshipMixin.getMember" href="#ariadne.app.RelationshipMixin.getMember">getMember</a></code></li>
</ul>
</li>
<li><code><b><a title="ariadne.app.OperationMixin" href="#ariadne.app.OperationMixin">OperationMixin</a></b></code>:
<ul class="hlist">
<li><code><a title="ariadne.app.OperationMixin.deleteFriend" href="#ariadne.app.OperationMixin.deleteFriend">deleteFriend</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.getGroupConfig" href="#ariadne.app.OperationMixin.getGroupConfig">getGroupConfig</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.getMemberInfo" href="#ariadne.app.OperationMixin.getMemberInfo">getMemberInfo</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.kickMember" href="#ariadne.app.OperationMixin.kickMember">kickMember</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.modifyGroupConfig" href="#ariadne.app.OperationMixin.modifyGroupConfig">modifyGroupConfig</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.modifyMemberAdmin" href="#ariadne.app.OperationMixin.modifyMemberAdmin">modifyMemberAdmin</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.modifyMemberInfo" href="#ariadne.app.OperationMixin.modifyMemberInfo">modifyMemberInfo</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.muteAll" href="#ariadne.app.OperationMixin.muteAll">muteAll</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.muteMember" href="#ariadne.app.OperationMixin.muteMember">muteMember</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.quitGroup" href="#ariadne.app.OperationMixin.quitGroup">quitGroup</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.setEssence" href="#ariadne.app.OperationMixin.setEssence">setEssence</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.unmuteAll" href="#ariadne.app.OperationMixin.unmuteAll">unmuteAll</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.unmuteMember" href="#ariadne.app.OperationMixin.unmuteMember">unmuteMember</a></code></li>
</ul>
</li>
<li><code><b><a title="ariadne.app.FileMixin" href="#ariadne.app.FileMixin">FileMixin</a></b></code>:
<ul class="hlist">
<li><code><a title="ariadne.app.FileMixin.deleteFile" href="#ariadne.app.FileMixin.deleteFile">deleteFile</a></code></li>
<li><code><a title="ariadne.app.FileMixin.getFileInfo" href="#ariadne.app.FileMixin.getFileInfo">getFileInfo</a></code></li>
<li><code><a title="ariadne.app.FileMixin.getFileList" href="#ariadne.app.FileMixin.getFileList">getFileList</a></code></li>
<li><code><a title="ariadne.app.FileMixin.makeDirectory" href="#ariadne.app.FileMixin.makeDirectory">makeDirectory</a></code></li>
<li><code><a title="ariadne.app.FileMixin.moveFile" href="#ariadne.app.FileMixin.moveFile">moveFile</a></code></li>
<li><code><a title="ariadne.app.FileMixin.renameFile" href="#ariadne.app.FileMixin.renameFile">renameFile</a></code></li>
<li><code><a title="ariadne.app.FileMixin.uploadFile" href="#ariadne.app.FileMixin.uploadFile">uploadFile</a></code></li>
</ul>
</li>
<li><code><b><a title="ariadne.app.MultimediaMixin" href="#ariadne.app.MultimediaMixin">MultimediaMixin</a></b></code>:
<ul class="hlist">
<li><code><a title="ariadne.app.MultimediaMixin.uploadImage" href="#ariadne.app.MultimediaMixin.uploadImage">uploadImage</a></code></li>
<li><code><a title="ariadne.app.MultimediaMixin.uploadVoice" href="#ariadne.app.MultimediaMixin.uploadVoice">uploadVoice</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="ariadne.app.AriadneMixin"><code class="flex name class">
<span>class <span class="ident">AriadneMixin</span></span>
</code></dt>
<dd>
<div class="desc"><p>Ariadne 的 Mixin 基类.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AriadneMixin:
    &#34;&#34;&#34;Ariadne 的 Mixin 基类.&#34;&#34;&#34;

    broadcast: Broadcast
    adapter: Adapter
    mirai_session: MiraiSession

    @property
    def session_key(self) -&gt; Optional[str]:
        return self.mirai_session.session_key</code></pre>
</details>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="ariadne.app.FileMixin" href="#ariadne.app.FileMixin">FileMixin</a></li>
<li><a title="ariadne.app.MessageMixin" href="#ariadne.app.MessageMixin">MessageMixin</a></li>
<li><a title="ariadne.app.MultimediaMixin" href="#ariadne.app.MultimediaMixin">MultimediaMixin</a></li>
<li><a title="ariadne.app.OperationMixin" href="#ariadne.app.OperationMixin">OperationMixin</a></li>
<li><a title="ariadne.app.RelationshipMixin" href="#ariadne.app.RelationshipMixin">RelationshipMixin</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="ariadne.app.AriadneMixin.adapter"><code class="name">var <span class="ident">adapter</span> : <a title="ariadne.adapter.Adapter" href="adapter.html#ariadne.adapter.Adapter">Adapter</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ariadne.app.AriadneMixin.broadcast"><code class="name">var <span class="ident">broadcast</span> : graia.broadcast.Broadcast</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ariadne.app.AriadneMixin.mirai_session"><code class="name">var <span class="ident">mirai_session</span> : <a title="ariadne.model.MiraiSession" href="model.html#ariadne.model.MiraiSession">MiraiSession</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Instance variables</h3>
<dl>
<dt id="ariadne.app.AriadneMixin.session_key"><code class="name">var <span class="ident">session_key</span> : Optional[str]</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def session_key(self) -&gt; Optional[str]:
    return self.mirai_session.session_key</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="ariadne.app.FileMixin"><code class="flex name class">
<span>class <span class="ident">FileMixin</span></span>
</code></dt>
<dd>
<div class="desc"><p>用于对文件进行各种操作的 Mixin 类.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class FileMixin(AriadneMixin):
    &#34;&#34;&#34;用于对文件进行各种操作的 Mixin 类.&#34;&#34;&#34;

    @app_ctx_manager
    async def getFileList(
        self,
        target: Union[Friend, Group, int],
        id: str = &#34;&#34;,
        offset: Optional[int] = 0,
        size: Optional[int] = 1,
        with_download_info: bool = False,
    ) -&gt; List[FileInfo]:
        &#34;&#34;&#34;
        列出指定文件夹下的所有文件.

        Args:
            target (Union[Friend, Group, int]): 要列出文件的根位置,
            为群组或好友或QQ号（当前仅支持群组）
            id (str): 文件夹ID, 空串为根目录
            offset (int): 分页偏移
            size (int): 分页大小
            with_download_info (bool): 是否携带下载信息, 无必要不要携带

        Returns:
            List[FileInfo]: 返回的文件信息列表.
        &#34;&#34;&#34;
        if isinstance(target, Friend):
            raise NotImplementedError(f&#34;Not implemented for friend&#34;)

        target = target.id if isinstance(target, Friend) else target
        target = target.id if isinstance(target, Group) else target

        result = await self.adapter.call_api(
            &#34;file/list&#34;,
            CallMethod.GET,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;id&#34;: id,
                &#34;target&#34;: target,
                &#34;withDownloadInfo&#34;: str(with_download_info),  # yarl don&#39;t accept boolean
                &#34;offset&#34;: offset,
                &#34;size&#34;: size,
            },
        )
        return [FileInfo.parse_obj(i) for i in result]

    @app_ctx_manager
    async def getFileInfo(
        self,
        target: Union[Friend, Group, int],
        id: str = &#34;&#34;,
        with_download_info: bool = False,
    ) -&gt; FileInfo:
        &#34;&#34;&#34;
        获取指定文件的信息.

        Args:
            target (Union[Friend, Group, int]): 要列出文件的根位置,
            为群组或好友或QQ号（当前仅支持群组）
            id (str): 文件ID, 空串为根目录
            with_download_info (bool): 是否携带下载信息, 无必要不要携带

        Returns:
            FileInfo: 返回的文件信息.
        &#34;&#34;&#34;
        if isinstance(target, Friend):
            raise NotImplementedError(f&#34;Not implemented for friend&#34;)

        target = target.id if isinstance(target, Friend) else target
        target = target.id if isinstance(target, Group) else target

        result = await self.adapter.call_api(
            &#34;file/info&#34;,
            CallMethod.GET,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;id&#34;: id,
                &#34;target&#34;: target,
                &#34;withDownloadInfo&#34;: str(with_download_info),  # yarl don&#39;t accept boolean
            },
        )

        return FileInfo.parse_obj(result)

    @app_ctx_manager
    async def makeDirectory(
        self,
        target: Union[Friend, Group, int],
        name: str,
        id: str = &#34;&#34;,
    ) -&gt; FileInfo:
        &#34;&#34;&#34;
        在指定位置创建新文件夹.

        Args:
            target (Union[Friend, Group, int]): 要列出文件的根位置,
            为群组或好友或QQ号（当前仅支持群组）
            name (str): 要创建的文件夹名称.
            id (str): 上级文件夹ID, 空串为根目录

        Returns:
            FileInfo: 新创建文件夹的信息.
        &#34;&#34;&#34;
        if isinstance(target, Friend):
            raise NotImplementedError(f&#34;Not implemented for friend&#34;)

        target = target.id if isinstance(target, Friend) else target
        target = target.id if isinstance(target, Group) else target

        result = await self.adapter.call_api(
            &#34;file/mkdir&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;id&#34;: id,
                &#34;name&#34;: name,
                &#34;target&#34;: target,
            },
        )

        return FileInfo.parse_obj(result)

    @app_ctx_manager
    async def deleteFile(
        self,
        target: Union[Friend, Group, int],
        id: str = &#34;&#34;,
    ):
        &#34;&#34;&#34;
        删除指定文件.

        Args:
            target (Union[Friend, Group, int]): 要列出文件的根位置,
            为群组或好友或QQ号（当前仅支持群组）
            id (str): 文件ID

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        if isinstance(target, Friend):
            raise NotImplementedError(f&#34;Not implemented for friend&#34;)

        target = target.id if isinstance(target, Friend) else target
        target = target.id if isinstance(target, Group) else target

        await self.adapter.call_api(
            &#34;file/delete&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;id&#34;: id,
                &#34;target&#34;: target,
            },
        )

    @app_ctx_manager
    async def moveFile(
        self,
        target: Union[Friend, Group, int],
        id: str = &#34;&#34;,
        dest_id: str = &#34;&#34;,
    ):
        &#34;&#34;&#34;
        移动指定文件.

        Args:
            target (Union[Friend, Group, int]): 要列出文件的根位置,
            为群组或好友或QQ号（当前仅支持群组）
            id (str): 源文件ID
            dest_id (str): 目标文件夹ID

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        if isinstance(target, Friend):
            raise NotImplementedError(f&#34;Not implemented for friend&#34;)

        target = target.id if isinstance(target, Friend) else target
        target = target.id if isinstance(target, Group) else target

        await self.adapter.call_api(
            &#34;file/move&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;id&#34;: id,
                &#34;target&#34;: target,
                &#34;moveTo&#34;: dest_id,
            },
        )

    @app_ctx_manager
    async def renameFile(
        self,
        target: Union[Friend, Group, int],
        id: str = &#34;&#34;,
        dest_name: str = &#34;&#34;,
    ):
        &#34;&#34;&#34;
        重命名指定文件.

        Args:
            target (Union[Friend, Group, int]): 要列出文件的根位置,
            为群组或好友或QQ号（当前仅支持群组）
            id (str): 源文件ID
            dest_name (str): 目标文件新名称.

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        if isinstance(target, Friend):
            raise NotImplementedError(f&#34;Not implemented for friend&#34;)

        target = target.id if isinstance(target, Friend) else target
        target = target.id if isinstance(target, Group) else target

        await self.adapter.call_api(
            &#34;file/rename&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;id&#34;: id,
                &#34;target&#34;: target,
                &#34;renameTo&#34;: dest_name,
            },
        )

    @app_ctx_manager
    async def uploadFile(
        self,
        data: bytes,
        method: UploadMethod,
        target: Union[Friend, Group, int],
        path: str = &#34;&#34;,
    ) -&gt; &#34;FileInfo&#34;:
        &#34;&#34;&#34;
        上传文件到指定目标, 需要提供: 文件的原始数据(bytes), 文件的上传类型,
        上传目标, (可选)上传目录ID.
        Args:
            data (bytes): 文件的原始数据
            method (UploadMethod): 文件的上传类型
        Returns:
            FileInfo: 文件信息
        &#34;&#34;&#34;

        if method != UploadMethod.Group or isinstance(target, Friend):
            raise NotImplementedError(f&#34;Not implemented for {method}&#34;)

        target = target.id if isinstance(target, Friend) else target
        target = target.id if isinstance(target, Group) else target

        result = await self.adapter.call_api(
            &#34;file/upload&#34;,
            CallMethod.MULTIPART,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;type&#34;: method.value,
                &#34;target&#34;: target,
                &#34;path&#34;: path,
                &#34;file&#34;: data,
            },
        )

        return FileInfo.parse_obj(result)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="ariadne.app.AriadneMixin" href="#ariadne.app.AriadneMixin">AriadneMixin</a></li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="ariadne.app.Ariadne" href="#ariadne.app.Ariadne">Ariadne</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="ariadne.app.FileMixin.adapter"><code class="name">var <span class="ident">adapter</span> : <a title="ariadne.adapter.Adapter" href="adapter.html#ariadne.adapter.Adapter">Adapter</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ariadne.app.FileMixin.broadcast"><code class="name">var <span class="ident">broadcast</span> : graia.broadcast.Broadcast</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ariadne.app.FileMixin.mirai_session"><code class="name">var <span class="ident">mirai_session</span> : <a title="ariadne.model.MiraiSession" href="model.html#ariadne.model.MiraiSession">MiraiSession</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="ariadne.app.FileMixin.deleteFile"><code class="name flex">
<span>async def <span class="ident">deleteFile</span></span>(<span>self, target: Union[<a title="ariadne.model.Friend" href="model.html#ariadne.model.Friend">Friend</a>, <a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int], id: str = '')</span>
</code></dt>
<dd>
<div class="desc"><p>删除指定文件.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>target</code></strong> :&ensp;<code>Union[Friend, Group, int]</code></dt>
<dd>要列出文件的根位置,</dd>
<dt>为群组或好友或QQ号（当前仅支持群组）</dt>
<dt><strong><code>id</code></strong> :&ensp;<code>str</code></dt>
<dd>文件ID</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>None</code></dt>
<dd>没有返回.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def deleteFile(
    self,
    target: Union[Friend, Group, int],
    id: str = &#34;&#34;,
):
    &#34;&#34;&#34;
    删除指定文件.

    Args:
        target (Union[Friend, Group, int]): 要列出文件的根位置,
        为群组或好友或QQ号（当前仅支持群组）
        id (str): 文件ID

    Returns:
        None: 没有返回.
    &#34;&#34;&#34;
    if isinstance(target, Friend):
        raise NotImplementedError(f&#34;Not implemented for friend&#34;)

    target = target.id if isinstance(target, Friend) else target
    target = target.id if isinstance(target, Group) else target

    await self.adapter.call_api(
        &#34;file/delete&#34;,
        CallMethod.POST,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;id&#34;: id,
            &#34;target&#34;: target,
        },
    )</code></pre>
</details>
</dd>
<dt id="ariadne.app.FileMixin.getFileInfo"><code class="name flex">
<span>async def <span class="ident">getFileInfo</span></span>(<span>self, target: Union[<a title="ariadne.model.Friend" href="model.html#ariadne.model.Friend">Friend</a>, <a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int], id: str = '', with_download_info: bool = False) ‑> <a title="ariadne.model.FileInfo" href="model.html#ariadne.model.FileInfo">FileInfo</a></span>
</code></dt>
<dd>
<div class="desc"><p>获取指定文件的信息.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>target</code></strong> :&ensp;<code>Union[Friend, Group, int]</code></dt>
<dd>要列出文件的根位置,</dd>
<dt>为群组或好友或QQ号（当前仅支持群组）</dt>
<dt><strong><code>id</code></strong> :&ensp;<code>str</code></dt>
<dd>文件ID, 空串为根目录</dd>
<dt><strong><code>with_download_info</code></strong> :&ensp;<code>bool</code></dt>
<dd>是否携带下载信息, 无必要不要携带</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>FileInfo</code></dt>
<dd>返回的文件信息.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def getFileInfo(
    self,
    target: Union[Friend, Group, int],
    id: str = &#34;&#34;,
    with_download_info: bool = False,
) -&gt; FileInfo:
    &#34;&#34;&#34;
    获取指定文件的信息.

    Args:
        target (Union[Friend, Group, int]): 要列出文件的根位置,
        为群组或好友或QQ号（当前仅支持群组）
        id (str): 文件ID, 空串为根目录
        with_download_info (bool): 是否携带下载信息, 无必要不要携带

    Returns:
        FileInfo: 返回的文件信息.
    &#34;&#34;&#34;
    if isinstance(target, Friend):
        raise NotImplementedError(f&#34;Not implemented for friend&#34;)

    target = target.id if isinstance(target, Friend) else target
    target = target.id if isinstance(target, Group) else target

    result = await self.adapter.call_api(
        &#34;file/info&#34;,
        CallMethod.GET,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;id&#34;: id,
            &#34;target&#34;: target,
            &#34;withDownloadInfo&#34;: str(with_download_info),  # yarl don&#39;t accept boolean
        },
    )

    return FileInfo.parse_obj(result)</code></pre>
</details>
</dd>
<dt id="ariadne.app.FileMixin.getFileList"><code class="name flex">
<span>async def <span class="ident">getFileList</span></span>(<span>self, target: Union[<a title="ariadne.model.Friend" href="model.html#ariadne.model.Friend">Friend</a>, <a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int], id: str = '', offset: Optional[int] = 0, size: Optional[int] = 1, with_download_info: bool = False) ‑> List[<a title="ariadne.model.FileInfo" href="model.html#ariadne.model.FileInfo">FileInfo</a>]</span>
</code></dt>
<dd>
<div class="desc"><p>列出指定文件夹下的所有文件.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>target</code></strong> :&ensp;<code>Union[Friend, Group, int]</code></dt>
<dd>要列出文件的根位置,</dd>
<dt>为群组或好友或QQ号（当前仅支持群组）</dt>
<dt><strong><code>id</code></strong> :&ensp;<code>str</code></dt>
<dd>文件夹ID, 空串为根目录</dd>
<dt><strong><code>offset</code></strong> :&ensp;<code>int</code></dt>
<dd>分页偏移</dd>
<dt><strong><code>size</code></strong> :&ensp;<code>int</code></dt>
<dd>分页大小</dd>
<dt><strong><code>with_download_info</code></strong> :&ensp;<code>bool</code></dt>
<dd>是否携带下载信息, 无必要不要携带</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>List[FileInfo]</code></dt>
<dd>返回的文件信息列表.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def getFileList(
    self,
    target: Union[Friend, Group, int],
    id: str = &#34;&#34;,
    offset: Optional[int] = 0,
    size: Optional[int] = 1,
    with_download_info: bool = False,
) -&gt; List[FileInfo]:
    &#34;&#34;&#34;
    列出指定文件夹下的所有文件.

    Args:
        target (Union[Friend, Group, int]): 要列出文件的根位置,
        为群组或好友或QQ号（当前仅支持群组）
        id (str): 文件夹ID, 空串为根目录
        offset (int): 分页偏移
        size (int): 分页大小
        with_download_info (bool): 是否携带下载信息, 无必要不要携带

    Returns:
        List[FileInfo]: 返回的文件信息列表.
    &#34;&#34;&#34;
    if isinstance(target, Friend):
        raise NotImplementedError(f&#34;Not implemented for friend&#34;)

    target = target.id if isinstance(target, Friend) else target
    target = target.id if isinstance(target, Group) else target

    result = await self.adapter.call_api(
        &#34;file/list&#34;,
        CallMethod.GET,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;id&#34;: id,
            &#34;target&#34;: target,
            &#34;withDownloadInfo&#34;: str(with_download_info),  # yarl don&#39;t accept boolean
            &#34;offset&#34;: offset,
            &#34;size&#34;: size,
        },
    )
    return [FileInfo.parse_obj(i) for i in result]</code></pre>
</details>
</dd>
<dt id="ariadne.app.FileMixin.makeDirectory"><code class="name flex">
<span>async def <span class="ident">makeDirectory</span></span>(<span>self, target: Union[<a title="ariadne.model.Friend" href="model.html#ariadne.model.Friend">Friend</a>, <a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int], name: str, id: str = '') ‑> <a title="ariadne.model.FileInfo" href="model.html#ariadne.model.FileInfo">FileInfo</a></span>
</code></dt>
<dd>
<div class="desc"><p>在指定位置创建新文件夹.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>target</code></strong> :&ensp;<code>Union[Friend, Group, int]</code></dt>
<dd>要列出文件的根位置,</dd>
<dt>为群组或好友或QQ号（当前仅支持群组）</dt>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>要创建的文件夹名称.</dd>
<dt><strong><code>id</code></strong> :&ensp;<code>str</code></dt>
<dd>上级文件夹ID, 空串为根目录</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>FileInfo</code></dt>
<dd>新创建文件夹的信息.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def makeDirectory(
    self,
    target: Union[Friend, Group, int],
    name: str,
    id: str = &#34;&#34;,
) -&gt; FileInfo:
    &#34;&#34;&#34;
    在指定位置创建新文件夹.

    Args:
        target (Union[Friend, Group, int]): 要列出文件的根位置,
        为群组或好友或QQ号（当前仅支持群组）
        name (str): 要创建的文件夹名称.
        id (str): 上级文件夹ID, 空串为根目录

    Returns:
        FileInfo: 新创建文件夹的信息.
    &#34;&#34;&#34;
    if isinstance(target, Friend):
        raise NotImplementedError(f&#34;Not implemented for friend&#34;)

    target = target.id if isinstance(target, Friend) else target
    target = target.id if isinstance(target, Group) else target

    result = await self.adapter.call_api(
        &#34;file/mkdir&#34;,
        CallMethod.POST,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;id&#34;: id,
            &#34;name&#34;: name,
            &#34;target&#34;: target,
        },
    )

    return FileInfo.parse_obj(result)</code></pre>
</details>
</dd>
<dt id="ariadne.app.FileMixin.moveFile"><code class="name flex">
<span>async def <span class="ident">moveFile</span></span>(<span>self, target: Union[<a title="ariadne.model.Friend" href="model.html#ariadne.model.Friend">Friend</a>, <a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int], id: str = '', dest_id: str = '')</span>
</code></dt>
<dd>
<div class="desc"><p>移动指定文件.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>target</code></strong> :&ensp;<code>Union[Friend, Group, int]</code></dt>
<dd>要列出文件的根位置,</dd>
<dt>为群组或好友或QQ号（当前仅支持群组）</dt>
<dt><strong><code>id</code></strong> :&ensp;<code>str</code></dt>
<dd>源文件ID</dd>
<dt><strong><code>dest_id</code></strong> :&ensp;<code>str</code></dt>
<dd>目标文件夹ID</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>None</code></dt>
<dd>没有返回.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def moveFile(
    self,
    target: Union[Friend, Group, int],
    id: str = &#34;&#34;,
    dest_id: str = &#34;&#34;,
):
    &#34;&#34;&#34;
    移动指定文件.

    Args:
        target (Union[Friend, Group, int]): 要列出文件的根位置,
        为群组或好友或QQ号（当前仅支持群组）
        id (str): 源文件ID
        dest_id (str): 目标文件夹ID

    Returns:
        None: 没有返回.
    &#34;&#34;&#34;
    if isinstance(target, Friend):
        raise NotImplementedError(f&#34;Not implemented for friend&#34;)

    target = target.id if isinstance(target, Friend) else target
    target = target.id if isinstance(target, Group) else target

    await self.adapter.call_api(
        &#34;file/move&#34;,
        CallMethod.POST,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;id&#34;: id,
            &#34;target&#34;: target,
            &#34;moveTo&#34;: dest_id,
        },
    )</code></pre>
</details>
</dd>
<dt id="ariadne.app.FileMixin.renameFile"><code class="name flex">
<span>async def <span class="ident">renameFile</span></span>(<span>self, target: Union[<a title="ariadne.model.Friend" href="model.html#ariadne.model.Friend">Friend</a>, <a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int], id: str = '', dest_name: str = '')</span>
</code></dt>
<dd>
<div class="desc"><p>重命名指定文件.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>target</code></strong> :&ensp;<code>Union[Friend, Group, int]</code></dt>
<dd>要列出文件的根位置,</dd>
<dt>为群组或好友或QQ号（当前仅支持群组）</dt>
<dt><strong><code>id</code></strong> :&ensp;<code>str</code></dt>
<dd>源文件ID</dd>
<dt><strong><code>dest_name</code></strong> :&ensp;<code>str</code></dt>
<dd>目标文件新名称.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>None</code></dt>
<dd>没有返回.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def renameFile(
    self,
    target: Union[Friend, Group, int],
    id: str = &#34;&#34;,
    dest_name: str = &#34;&#34;,
):
    &#34;&#34;&#34;
    重命名指定文件.

    Args:
        target (Union[Friend, Group, int]): 要列出文件的根位置,
        为群组或好友或QQ号（当前仅支持群组）
        id (str): 源文件ID
        dest_name (str): 目标文件新名称.

    Returns:
        None: 没有返回.
    &#34;&#34;&#34;
    if isinstance(target, Friend):
        raise NotImplementedError(f&#34;Not implemented for friend&#34;)

    target = target.id if isinstance(target, Friend) else target
    target = target.id if isinstance(target, Group) else target

    await self.adapter.call_api(
        &#34;file/rename&#34;,
        CallMethod.POST,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;id&#34;: id,
            &#34;target&#34;: target,
            &#34;renameTo&#34;: dest_name,
        },
    )</code></pre>
</details>
</dd>
<dt id="ariadne.app.FileMixin.uploadFile"><code class="name flex">
<span>async def <span class="ident">uploadFile</span></span>(<span>self, data: bytes, method: <a title="ariadne.model.UploadMethod" href="model.html#ariadne.model.UploadMethod">UploadMethod</a>, target: Union[<a title="ariadne.model.Friend" href="model.html#ariadne.model.Friend">Friend</a>, <a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int], path: str = '') ‑> <a title="ariadne.model.FileInfo" href="model.html#ariadne.model.FileInfo">FileInfo</a></span>
</code></dt>
<dd>
<div class="desc"><p>上传文件到指定目标, 需要提供: 文件的原始数据(bytes), 文件的上传类型,
上传目标, (可选)上传目录ID.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>data</code></strong> :&ensp;<code>bytes</code></dt>
<dd>文件的原始数据</dd>
<dt><strong><code>method</code></strong> :&ensp;<code>UploadMethod</code></dt>
<dd>文件的上传类型</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>FileInfo</code></dt>
<dd>文件信息</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def uploadFile(
    self,
    data: bytes,
    method: UploadMethod,
    target: Union[Friend, Group, int],
    path: str = &#34;&#34;,
) -&gt; &#34;FileInfo&#34;:
    &#34;&#34;&#34;
    上传文件到指定目标, 需要提供: 文件的原始数据(bytes), 文件的上传类型,
    上传目标, (可选)上传目录ID.
    Args:
        data (bytes): 文件的原始数据
        method (UploadMethod): 文件的上传类型
    Returns:
        FileInfo: 文件信息
    &#34;&#34;&#34;

    if method != UploadMethod.Group or isinstance(target, Friend):
        raise NotImplementedError(f&#34;Not implemented for {method}&#34;)

    target = target.id if isinstance(target, Friend) else target
    target = target.id if isinstance(target, Group) else target

    result = await self.adapter.call_api(
        &#34;file/upload&#34;,
        CallMethod.MULTIPART,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;type&#34;: method.value,
            &#34;target&#34;: target,
            &#34;path&#34;: path,
            &#34;file&#34;: data,
        },
    )

    return FileInfo.parse_obj(result)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="ariadne.app.MessageMixin"><code class="flex name class">
<span>class <span class="ident">MessageMixin</span></span>
</code></dt>
<dd>
<div class="desc"><p>用于发送, 撤回, 获取消息的 Mixin 类.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class MessageMixin(AriadneMixin):
    &#34;&#34;&#34;用于发送, 撤回, 获取消息的 Mixin 类.&#34;&#34;&#34;

    @app_ctx_manager
    async def getMessageFromId(self, messageId: int) -&gt; MessageEvent:
        result = await self.adapter.call_api(
            &#34;messageFromId&#34;,
            CallMethod.GET,
            {&#34;sessionKey&#34;: self.session_key, &#34;id&#34;: messageId},
        )
        return await self.adapter.build_event(result)

    @app_ctx_manager
    async def sendFriendMessage(
        self,
        target: Union[Friend, int],
        message: MessageChain,
        *,
        quote: Optional[Union[Source, int]] = None,
    ) -&gt; BotMessage:
        &#34;&#34;&#34;发送消息给好友, 可以指定回复的消息.

        Args:
            target (Union[Friend, int]): 指定的好友
            message (MessageChain): 有效的, 可发送的(Sendable)消息链.
            quote (Optional[Union[Source, int]], optional): 需要回复的消息, 不要忽视我啊喂?!!, 默认为 None.

        Returns:
            BotMessage: 即当前会话账号所发出消息的元数据, 内包含有一 `messageId` 属性, 可用于回复.
        &#34;&#34;&#34;
        with enter_message_send_context(UploadMethod.Friend):
            new_msg = message.copy()
            new_msg.prepare()
            result = await self.adapter.call_api(
                &#34;sendFriendMessage&#34;,
                CallMethod.POST,
                {
                    &#34;sessionKey&#34;: self.session_key,
                    &#34;target&#34;: target.id if isinstance(target, Friend) else target,
                    &#34;messageChain&#34;: new_msg.dict()[&#34;__root__&#34;],
                    **({&#34;quote&#34;: quote.id if isinstance(quote, Source) else quote} if quote else {}),
                },
            )
            logger.info(
                &#34;[BOT {bot_id}] Friend({friend_id}) &lt;- {message}&#34;.format_map(
                    {
                        &#34;bot_id&#34;: self.mirai_session.account,
                        &#34;friend_id&#34;: target.id if isinstance(target, Friend) else target,
                        &#34;message&#34;: new_msg.asDisplay(),
                    }
                )
            )
            return BotMessage(messageId=result[&#34;messageId&#34;])

    @app_ctx_manager
    async def sendGroupMessage(
        self,
        target: Union[Group, int],
        message: MessageChain,
        *,
        quote: Optional[Union[Source, int]] = None,
    ) -&gt; BotMessage:
        &#34;&#34;&#34;发送消息到群组内, 可以指定回复的消息.

        Args:
            target (Union[Group, int]): 指定的群组, 可以是群组的 ID 也可以是 Group 实例.
            message (MessageChain): 有效的, 可发送的(Sendable)消息链.
            quote (Optional[Union[Source, int]], optional): 需要回复的消息, 不要忽视我啊喂?!!, 默认为 None.

        Returns:
            BotMessage: 即当前会话账号所发出消息的元数据, 内包含有一 `messageId` 属性, 可用于回复.
        &#34;&#34;&#34;
        with enter_message_send_context(UploadMethod.Group):
            new_msg = message.copy()
            new_msg.prepare()
            result = await self.adapter.call_api(
                &#34;sendGroupMessage&#34;,
                CallMethod.POST,
                {
                    &#34;sessionKey&#34;: self.session_key,
                    &#34;target&#34;: target.id if isinstance(target, Group) else target,
                    &#34;messageChain&#34;: new_msg.dict()[&#34;__root__&#34;],
                    **({&#34;quote&#34;: quote.id if isinstance(quote, Source) else quote} if quote else {}),
                },
            )
            logger.info(
                &#34;[BOT {bot_id}] Group({group_id}) &lt;- {message}&#34;.format_map(
                    {
                        &#34;bot_id&#34;: self.mirai_session.account,
                        &#34;group_id&#34;: target.id if isinstance(target, Group) else target,
                        &#34;message&#34;: new_msg.asDisplay(),
                    }
                )
            )
            return BotMessage(messageId=result[&#34;messageId&#34;])

    @app_ctx_manager
    async def sendTempMessage(
        self,
        target: Union[Member, int],
        message: MessageChain,
        group: Optional[Union[Group, int]] = None,
        *,
        quote: Optional[Union[Source, int]] = None,
    ) -&gt; BotMessage:
        &#34;&#34;&#34;发送临时会话给群组中的特定成员, 可指定回复的消息.

        Args:
            group (Union[Group, int]): 指定的群组, 可以是群组的 ID 也可以是 Group 实例.
            target (Union[Member, int]): 指定的群组成员, 可以是成员的 ID 也可以是 Member 实例.
            message (MessageChain): 有效的, 可发送的(Sendable)消息链.
            quote (Optional[Union[Source, int]], optional): 需要回复的消息, 不要忽视我啊喂?!!, 默认为 None.

        Returns:
            BotMessage: 即当前会话账号所发出消息的元数据, 内包含有一 `messageId` 属性, 可用于回复.
        &#34;&#34;&#34;
        new_msg = message.copy()
        new_msg.prepare()
        group = target.group if (isinstance(target, Member) and not group) else group
        if not group:
            raise ValueError(&#34;Missing necessary argument: group&#34;)
        with enter_message_send_context(UploadMethod.Temp):
            result = await self.adapter.call_api(
                &#34;sendTempMessage&#34;,
                CallMethod.POST,
                {
                    &#34;sessionKey&#34;: self.session_key,
                    &#34;group&#34;: group.id if isinstance(group, Group) else group,
                    &#34;qq&#34;: target.id if isinstance(target, Member) else target,
                    &#34;messageChain&#34;: new_msg.dict()[&#34;__root__&#34;],
                    **({&#34;quote&#34;: quote.id if isinstance(quote, Source) else quote} if quote else {}),
                },
            )
            logger.info(
                &#34;[BOT {bot_id}] Member({member_id}, in {group_id}) &lt;- {message}&#34;.format_map(
                    {
                        &#34;bot_id&#34;: self.mirai_session.account,
                        &#34;member_id&#34;: target.id if isinstance(target, Member) else target,
                        &#34;group_id&#34;: group.id if isinstance(group, Group) else group,
                        &#34;message&#34;: new_msg.asDisplay(),
                    }
                )
            )
            return BotMessage(messageId=result[&#34;messageId&#34;])

    @app_ctx_manager
    async def sendMessage(
        self,
        target: Union[MessageEvent, Group, Friend, Member],
        message: MessageChain,
        *,
        quote: Union[bool, int, Source] = False,
    ) -&gt; BotMessage:
        &#34;&#34;&#34;
        依据传入的 `target` 自动发送消息.
        请注意发送给群成员时会自动作为临时消息发送.

        Args:
            target (Union[MessageEvent, Group, Friend, Member]): 消息发送目标.
            message (MessageChain): 要发送的消息链.
            quote (Union[bool, int, Source]): 若为布尔类型, 则会尝试通过传入对象解析要回复的消息,
            否则会视为 `messageId` 处理.

        Returns:
            BotMessage: 即当前会话账号所发出消息的元数据, 内包含有一 `messageId` 属性, 可用于回复.
        &#34;&#34;&#34;
        data = {&#34;message&#34;: message}
        # quote
        if isinstance(quote, bool) and quote and isinstance(target, MessageEvent):
            data[&#34;quote&#34;] = target.messageChain.getFirst(Source)
        elif isinstance(quote, (int, Source)):
            data[&#34;quote&#34;] = quote
        # target: MessageEvent
        if isinstance(target, GroupMessage):
            data[&#34;target&#34;] = target.sender.group
        elif isinstance(target, (FriendMessage, TempMessage)):
            data[&#34;target&#34;] = target.sender
        else:  # target: sender
            data[&#34;target&#34;] = target
        # send message
        if isinstance(data[&#34;target&#34;], Friend):
            return await self.sendFriendMessage(**data)
        if isinstance(data[&#34;target&#34;], Group):
            return await self.sendGroupMessage(**data)
        if isinstance(data[&#34;target&#34;], Member):
            return await self.sendTempMessage(**data)
        raise NotImplementedError(f&#34;Unable to send message with {target} as target.&#34;)

    @app_ctx_manager
    async def sendNudge(
        self, target: Union[Friend, Member, int], group: Optional[Union[Group, int]] = None
    ) -&gt; None:
        &#34;&#34;&#34;
        向指定的群组成员或好友发送戳一戳消息.

        Args:
            target (Union[Friend, Member]): 发送戳一戳的目标.
            group (Union[Group, int], optional): 发送的群组.

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        target_id = target if isinstance(target, int) else target.id

        subject_id = (group.id if isinstance(group, Group) else group) or (
            target.group.id if isinstance(target, Member) else target_id
        )
        kind = &#34;Group&#34; if group or isinstance(target, Member) else &#34;Friend&#34;
        await self.adapter.call_api(
            &#34;sendNudge&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: target_id,
                &#34;subject&#34;: subject_id,
                &#34;kind&#34;: kind,
            },
        )

    @app_ctx_manager
    async def recallMessage(self, target: Union[Source, BotMessage, int]) -&gt; None:
        &#34;&#34;&#34;撤回特定的消息; 撤回自己的消息需要在发出后 2 分钟内才能成功撤回; 如果在群组内, 需要撤回他人的消息则需要管理员/群主权限.

        Args:
            target (Union[Source, BotMessage, int]): 特定信息的 `messageId`, 可以是 `Source` 实例, `BotMessage` 实例或者是单纯的 int 整数.

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        if isinstance(target, BotMessage):
            target = target.messageId
        elif isinstance(target, Source):
            target = target.id

        await self.adapter.call_api(
            &#34;recall&#34;,
            CallMethod.POST,
            {&#34;sessionKey&#34;: self.session_key, &#34;target&#34;: target},
        )</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="ariadne.app.AriadneMixin" href="#ariadne.app.AriadneMixin">AriadneMixin</a></li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="ariadne.app.Ariadne" href="#ariadne.app.Ariadne">Ariadne</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="ariadne.app.MessageMixin.adapter"><code class="name">var <span class="ident">adapter</span> : <a title="ariadne.adapter.Adapter" href="adapter.html#ariadne.adapter.Adapter">Adapter</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ariadne.app.MessageMixin.broadcast"><code class="name">var <span class="ident">broadcast</span> : graia.broadcast.Broadcast</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ariadne.app.MessageMixin.mirai_session"><code class="name">var <span class="ident">mirai_session</span> : <a title="ariadne.model.MiraiSession" href="model.html#ariadne.model.MiraiSession">MiraiSession</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="ariadne.app.MessageMixin.getMessageFromId"><code class="name flex">
<span>async def <span class="ident">getMessageFromId</span></span>(<span>self, messageId: int) ‑> <a title="ariadne.event.message.MessageEvent" href="event/message.html#ariadne.event.message.MessageEvent">MessageEvent</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def getMessageFromId(self, messageId: int) -&gt; MessageEvent:
    result = await self.adapter.call_api(
        &#34;messageFromId&#34;,
        CallMethod.GET,
        {&#34;sessionKey&#34;: self.session_key, &#34;id&#34;: messageId},
    )
    return await self.adapter.build_event(result)</code></pre>
</details>
</dd>
<dt id="ariadne.app.MessageMixin.recallMessage"><code class="name flex">
<span>async def <span class="ident">recallMessage</span></span>(<span>self, target: Union[<a title="ariadne.message.element.Source" href="message/element.html#ariadne.message.element.Source">Source</a>, <a title="ariadne.model.BotMessage" href="model.html#ariadne.model.BotMessage">BotMessage</a>, int]) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>撤回特定的消息; 撤回自己的消息需要在发出后 2 分钟内才能成功撤回; 如果在群组内, 需要撤回他人的消息则需要管理员/群主权限.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>target</code></strong> :&ensp;<code>Union[Source, BotMessage, int]</code></dt>
<dd>特定信息的 <code>messageId</code>, 可以是 <code>Source</code> 实例, <code>BotMessage</code> 实例或者是单纯的 int 整数.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>None</code></dt>
<dd>没有返回.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def recallMessage(self, target: Union[Source, BotMessage, int]) -&gt; None:
    &#34;&#34;&#34;撤回特定的消息; 撤回自己的消息需要在发出后 2 分钟内才能成功撤回; 如果在群组内, 需要撤回他人的消息则需要管理员/群主权限.

    Args:
        target (Union[Source, BotMessage, int]): 特定信息的 `messageId`, 可以是 `Source` 实例, `BotMessage` 实例或者是单纯的 int 整数.

    Returns:
        None: 没有返回.
    &#34;&#34;&#34;
    if isinstance(target, BotMessage):
        target = target.messageId
    elif isinstance(target, Source):
        target = target.id

    await self.adapter.call_api(
        &#34;recall&#34;,
        CallMethod.POST,
        {&#34;sessionKey&#34;: self.session_key, &#34;target&#34;: target},
    )</code></pre>
</details>
</dd>
<dt id="ariadne.app.MessageMixin.sendFriendMessage"><code class="name flex">
<span>async def <span class="ident">sendFriendMessage</span></span>(<span>self, target: Union[<a title="ariadne.model.Friend" href="model.html#ariadne.model.Friend">Friend</a>, int], message: <a title="ariadne.message.chain.MessageChain" href="message/chain.html#ariadne.message.chain.MessageChain">MessageChain</a>, *, quote: Union[<a title="ariadne.message.element.Source" href="message/element.html#ariadne.message.element.Source">Source</a>, int, ForwardRef(None)] = None) ‑> <a title="ariadne.model.BotMessage" href="model.html#ariadne.model.BotMessage">BotMessage</a></span>
</code></dt>
<dd>
<div class="desc"><p>发送消息给好友, 可以指定回复的消息.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>target</code></strong> :&ensp;<code>Union[Friend, int]</code></dt>
<dd>指定的好友</dd>
<dt><strong><code>message</code></strong> :&ensp;<code>MessageChain</code></dt>
<dd>有效的, 可发送的(Sendable)消息链.</dd>
<dt><strong><code>quote</code></strong> :&ensp;<code>Optional[Union[Source, int]]</code>, optional</dt>
<dd>需要回复的消息, 不要忽视我啊喂?!!, 默认为 None.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>BotMessage</code></dt>
<dd>即当前会话账号所发出消息的元数据, 内包含有一 <code>messageId</code> 属性, 可用于回复.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def sendFriendMessage(
    self,
    target: Union[Friend, int],
    message: MessageChain,
    *,
    quote: Optional[Union[Source, int]] = None,
) -&gt; BotMessage:
    &#34;&#34;&#34;发送消息给好友, 可以指定回复的消息.

    Args:
        target (Union[Friend, int]): 指定的好友
        message (MessageChain): 有效的, 可发送的(Sendable)消息链.
        quote (Optional[Union[Source, int]], optional): 需要回复的消息, 不要忽视我啊喂?!!, 默认为 None.

    Returns:
        BotMessage: 即当前会话账号所发出消息的元数据, 内包含有一 `messageId` 属性, 可用于回复.
    &#34;&#34;&#34;
    with enter_message_send_context(UploadMethod.Friend):
        new_msg = message.copy()
        new_msg.prepare()
        result = await self.adapter.call_api(
            &#34;sendFriendMessage&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: target.id if isinstance(target, Friend) else target,
                &#34;messageChain&#34;: new_msg.dict()[&#34;__root__&#34;],
                **({&#34;quote&#34;: quote.id if isinstance(quote, Source) else quote} if quote else {}),
            },
        )
        logger.info(
            &#34;[BOT {bot_id}] Friend({friend_id}) &lt;- {message}&#34;.format_map(
                {
                    &#34;bot_id&#34;: self.mirai_session.account,
                    &#34;friend_id&#34;: target.id if isinstance(target, Friend) else target,
                    &#34;message&#34;: new_msg.asDisplay(),
                }
            )
        )
        return BotMessage(messageId=result[&#34;messageId&#34;])</code></pre>
</details>
</dd>
<dt id="ariadne.app.MessageMixin.sendGroupMessage"><code class="name flex">
<span>async def <span class="ident">sendGroupMessage</span></span>(<span>self, target: Union[<a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int], message: <a title="ariadne.message.chain.MessageChain" href="message/chain.html#ariadne.message.chain.MessageChain">MessageChain</a>, *, quote: Union[<a title="ariadne.message.element.Source" href="message/element.html#ariadne.message.element.Source">Source</a>, int, ForwardRef(None)] = None) ‑> <a title="ariadne.model.BotMessage" href="model.html#ariadne.model.BotMessage">BotMessage</a></span>
</code></dt>
<dd>
<div class="desc"><p>发送消息到群组内, 可以指定回复的消息.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>target</code></strong> :&ensp;<code>Union[Group, int]</code></dt>
<dd>指定的群组, 可以是群组的 ID 也可以是 Group 实例.</dd>
<dt><strong><code>message</code></strong> :&ensp;<code>MessageChain</code></dt>
<dd>有效的, 可发送的(Sendable)消息链.</dd>
<dt><strong><code>quote</code></strong> :&ensp;<code>Optional[Union[Source, int]]</code>, optional</dt>
<dd>需要回复的消息, 不要忽视我啊喂?!!, 默认为 None.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>BotMessage</code></dt>
<dd>即当前会话账号所发出消息的元数据, 内包含有一 <code>messageId</code> 属性, 可用于回复.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def sendGroupMessage(
    self,
    target: Union[Group, int],
    message: MessageChain,
    *,
    quote: Optional[Union[Source, int]] = None,
) -&gt; BotMessage:
    &#34;&#34;&#34;发送消息到群组内, 可以指定回复的消息.

    Args:
        target (Union[Group, int]): 指定的群组, 可以是群组的 ID 也可以是 Group 实例.
        message (MessageChain): 有效的, 可发送的(Sendable)消息链.
        quote (Optional[Union[Source, int]], optional): 需要回复的消息, 不要忽视我啊喂?!!, 默认为 None.

    Returns:
        BotMessage: 即当前会话账号所发出消息的元数据, 内包含有一 `messageId` 属性, 可用于回复.
    &#34;&#34;&#34;
    with enter_message_send_context(UploadMethod.Group):
        new_msg = message.copy()
        new_msg.prepare()
        result = await self.adapter.call_api(
            &#34;sendGroupMessage&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: target.id if isinstance(target, Group) else target,
                &#34;messageChain&#34;: new_msg.dict()[&#34;__root__&#34;],
                **({&#34;quote&#34;: quote.id if isinstance(quote, Source) else quote} if quote else {}),
            },
        )
        logger.info(
            &#34;[BOT {bot_id}] Group({group_id}) &lt;- {message}&#34;.format_map(
                {
                    &#34;bot_id&#34;: self.mirai_session.account,
                    &#34;group_id&#34;: target.id if isinstance(target, Group) else target,
                    &#34;message&#34;: new_msg.asDisplay(),
                }
            )
        )
        return BotMessage(messageId=result[&#34;messageId&#34;])</code></pre>
</details>
</dd>
<dt id="ariadne.app.MessageMixin.sendMessage"><code class="name flex">
<span>async def <span class="ident">sendMessage</span></span>(<span>self, target: Union[<a title="ariadne.event.message.MessageEvent" href="event/message.html#ariadne.event.message.MessageEvent">MessageEvent</a>, <a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, <a title="ariadne.model.Friend" href="model.html#ariadne.model.Friend">Friend</a>, <a title="ariadne.model.Member" href="model.html#ariadne.model.Member">Member</a>], message: <a title="ariadne.message.chain.MessageChain" href="message/chain.html#ariadne.message.chain.MessageChain">MessageChain</a>, *, quote: Union[bool, int, <a title="ariadne.message.element.Source" href="message/element.html#ariadne.message.element.Source">Source</a>] = False) ‑> <a title="ariadne.model.BotMessage" href="model.html#ariadne.model.BotMessage">BotMessage</a></span>
</code></dt>
<dd>
<div class="desc"><p>依据传入的 <code>target</code> 自动发送消息.
请注意发送给群成员时会自动作为临时消息发送.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>target</code></strong> :&ensp;<code>Union[MessageEvent, Group, Friend, Member]</code></dt>
<dd>消息发送目标.</dd>
<dt><strong><code>message</code></strong> :&ensp;<code>MessageChain</code></dt>
<dd>要发送的消息链.</dd>
<dt><strong><code>quote</code></strong> :&ensp;<code>Union[bool, int, Source]</code></dt>
<dd>若为布尔类型, 则会尝试通过传入对象解析要回复的消息,</dd>
</dl>
<p>否则会视为 <code>messageId</code> 处理.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>BotMessage</code></dt>
<dd>即当前会话账号所发出消息的元数据, 内包含有一 <code>messageId</code> 属性, 可用于回复.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def sendMessage(
    self,
    target: Union[MessageEvent, Group, Friend, Member],
    message: MessageChain,
    *,
    quote: Union[bool, int, Source] = False,
) -&gt; BotMessage:
    &#34;&#34;&#34;
    依据传入的 `target` 自动发送消息.
    请注意发送给群成员时会自动作为临时消息发送.

    Args:
        target (Union[MessageEvent, Group, Friend, Member]): 消息发送目标.
        message (MessageChain): 要发送的消息链.
        quote (Union[bool, int, Source]): 若为布尔类型, 则会尝试通过传入对象解析要回复的消息,
        否则会视为 `messageId` 处理.

    Returns:
        BotMessage: 即当前会话账号所发出消息的元数据, 内包含有一 `messageId` 属性, 可用于回复.
    &#34;&#34;&#34;
    data = {&#34;message&#34;: message}
    # quote
    if isinstance(quote, bool) and quote and isinstance(target, MessageEvent):
        data[&#34;quote&#34;] = target.messageChain.getFirst(Source)
    elif isinstance(quote, (int, Source)):
        data[&#34;quote&#34;] = quote
    # target: MessageEvent
    if isinstance(target, GroupMessage):
        data[&#34;target&#34;] = target.sender.group
    elif isinstance(target, (FriendMessage, TempMessage)):
        data[&#34;target&#34;] = target.sender
    else:  # target: sender
        data[&#34;target&#34;] = target
    # send message
    if isinstance(data[&#34;target&#34;], Friend):
        return await self.sendFriendMessage(**data)
    if isinstance(data[&#34;target&#34;], Group):
        return await self.sendGroupMessage(**data)
    if isinstance(data[&#34;target&#34;], Member):
        return await self.sendTempMessage(**data)
    raise NotImplementedError(f&#34;Unable to send message with {target} as target.&#34;)</code></pre>
</details>
</dd>
<dt id="ariadne.app.MessageMixin.sendNudge"><code class="name flex">
<span>async def <span class="ident">sendNudge</span></span>(<span>self, target: Union[<a title="ariadne.model.Friend" href="model.html#ariadne.model.Friend">Friend</a>, <a title="ariadne.model.Member" href="model.html#ariadne.model.Member">Member</a>, int], group: Union[<a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int, ForwardRef(None)] = None) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>向指定的群组成员或好友发送戳一戳消息.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>target</code></strong> :&ensp;<code>Union[Friend, Member]</code></dt>
<dd>发送戳一戳的目标.</dd>
<dt><strong><code>group</code></strong> :&ensp;<code>Union[Group, int]</code>, optional</dt>
<dd>发送的群组.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>None</code></dt>
<dd>没有返回.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def sendNudge(
    self, target: Union[Friend, Member, int], group: Optional[Union[Group, int]] = None
) -&gt; None:
    &#34;&#34;&#34;
    向指定的群组成员或好友发送戳一戳消息.

    Args:
        target (Union[Friend, Member]): 发送戳一戳的目标.
        group (Union[Group, int], optional): 发送的群组.

    Returns:
        None: 没有返回.
    &#34;&#34;&#34;
    target_id = target if isinstance(target, int) else target.id

    subject_id = (group.id if isinstance(group, Group) else group) or (
        target.group.id if isinstance(target, Member) else target_id
    )
    kind = &#34;Group&#34; if group or isinstance(target, Member) else &#34;Friend&#34;
    await self.adapter.call_api(
        &#34;sendNudge&#34;,
        CallMethod.POST,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;target&#34;: target_id,
            &#34;subject&#34;: subject_id,
            &#34;kind&#34;: kind,
        },
    )</code></pre>
</details>
</dd>
<dt id="ariadne.app.MessageMixin.sendTempMessage"><code class="name flex">
<span>async def <span class="ident">sendTempMessage</span></span>(<span>self, target: Union[<a title="ariadne.model.Member" href="model.html#ariadne.model.Member">Member</a>, int], message: <a title="ariadne.message.chain.MessageChain" href="message/chain.html#ariadne.message.chain.MessageChain">MessageChain</a>, group: Union[<a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int, ForwardRef(None)] = None, *, quote: Union[<a title="ariadne.message.element.Source" href="message/element.html#ariadne.message.element.Source">Source</a>, int, ForwardRef(None)] = None) ‑> <a title="ariadne.model.BotMessage" href="model.html#ariadne.model.BotMessage">BotMessage</a></span>
</code></dt>
<dd>
<div class="desc"><p>发送临时会话给群组中的特定成员, 可指定回复的消息.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>group</code></strong> :&ensp;<code>Union[Group, int]</code></dt>
<dd>指定的群组, 可以是群组的 ID 也可以是 Group 实例.</dd>
<dt><strong><code>target</code></strong> :&ensp;<code>Union[Member, int]</code></dt>
<dd>指定的群组成员, 可以是成员的 ID 也可以是 Member 实例.</dd>
<dt><strong><code>message</code></strong> :&ensp;<code>MessageChain</code></dt>
<dd>有效的, 可发送的(Sendable)消息链.</dd>
<dt><strong><code>quote</code></strong> :&ensp;<code>Optional[Union[Source, int]]</code>, optional</dt>
<dd>需要回复的消息, 不要忽视我啊喂?!!, 默认为 None.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>BotMessage</code></dt>
<dd>即当前会话账号所发出消息的元数据, 内包含有一 <code>messageId</code> 属性, 可用于回复.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def sendTempMessage(
    self,
    target: Union[Member, int],
    message: MessageChain,
    group: Optional[Union[Group, int]] = None,
    *,
    quote: Optional[Union[Source, int]] = None,
) -&gt; BotMessage:
    &#34;&#34;&#34;发送临时会话给群组中的特定成员, 可指定回复的消息.

    Args:
        group (Union[Group, int]): 指定的群组, 可以是群组的 ID 也可以是 Group 实例.
        target (Union[Member, int]): 指定的群组成员, 可以是成员的 ID 也可以是 Member 实例.
        message (MessageChain): 有效的, 可发送的(Sendable)消息链.
        quote (Optional[Union[Source, int]], optional): 需要回复的消息, 不要忽视我啊喂?!!, 默认为 None.

    Returns:
        BotMessage: 即当前会话账号所发出消息的元数据, 内包含有一 `messageId` 属性, 可用于回复.
    &#34;&#34;&#34;
    new_msg = message.copy()
    new_msg.prepare()
    group = target.group if (isinstance(target, Member) and not group) else group
    if not group:
        raise ValueError(&#34;Missing necessary argument: group&#34;)
    with enter_message_send_context(UploadMethod.Temp):
        result = await self.adapter.call_api(
            &#34;sendTempMessage&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;group&#34;: group.id if isinstance(group, Group) else group,
                &#34;qq&#34;: target.id if isinstance(target, Member) else target,
                &#34;messageChain&#34;: new_msg.dict()[&#34;__root__&#34;],
                **({&#34;quote&#34;: quote.id if isinstance(quote, Source) else quote} if quote else {}),
            },
        )
        logger.info(
            &#34;[BOT {bot_id}] Member({member_id}, in {group_id}) &lt;- {message}&#34;.format_map(
                {
                    &#34;bot_id&#34;: self.mirai_session.account,
                    &#34;member_id&#34;: target.id if isinstance(target, Member) else target,
                    &#34;group_id&#34;: group.id if isinstance(group, Group) else group,
                    &#34;message&#34;: new_msg.asDisplay(),
                }
            )
        )
        return BotMessage(messageId=result[&#34;messageId&#34;])</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="ariadne.app.MultimediaMixin"><code class="flex name class">
<span>class <span class="ident">MultimediaMixin</span></span>
</code></dt>
<dd>
<div class="desc"><p>用于与多媒体信息交互的 Mixin 类.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class MultimediaMixin(AriadneMixin):
    &#34;&#34;&#34;用于与多媒体信息交互的 Mixin 类.&#34;&#34;&#34;

    @app_ctx_manager
    async def uploadImage(self, data: bytes, method: UploadMethod) -&gt; &#34;Image&#34;:
        &#34;&#34;&#34;上传一张图片到远端服务器, 需要提供: 图片的原始数据(bytes), 图片的上传类型.
        Args:
            image_bytes (bytes): 图片的原始数据
            method (UploadMethod): 图片的上传类型
        Returns:
            Image: 生成的图片消息元素
        &#34;&#34;&#34;
        from .message.element import Image

        result = await self.adapter.call_api(
            &#34;uploadImage&#34;,
            CallMethod.MULTIPART,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;type&#34;: method.value,
                &#34;img&#34;: data,
            },
        )

        return Image.parse_obj(result)

    @app_ctx_manager
    async def uploadVoice(self, data: bytes, method: UploadMethod) -&gt; &#34;Voice&#34;:
        &#34;&#34;&#34;上传语音到远端服务器, 需要提供: 语音的原始数据(bytes), 语音的上传类型.
        Args:
            data (bytes): 语音的原始数据
            method (UploadMethod): 语音的上传类型
        Returns:
            Voice: 生成的语音消息元素
        &#34;&#34;&#34;
        from .message.element import Voice

        result = await self.adapter.call_api(
            &#34;uploadVoice&#34;,
            CallMethod.MULTIPART,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;type&#34;: method.value,
                &#34;voice&#34;: data,
            },
        )

        return Voice.parse_obj(result)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="ariadne.app.AriadneMixin" href="#ariadne.app.AriadneMixin">AriadneMixin</a></li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="ariadne.app.Ariadne" href="#ariadne.app.Ariadne">Ariadne</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="ariadne.app.MultimediaMixin.adapter"><code class="name">var <span class="ident">adapter</span> : <a title="ariadne.adapter.Adapter" href="adapter.html#ariadne.adapter.Adapter">Adapter</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ariadne.app.MultimediaMixin.broadcast"><code class="name">var <span class="ident">broadcast</span> : graia.broadcast.Broadcast</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ariadne.app.MultimediaMixin.mirai_session"><code class="name">var <span class="ident">mirai_session</span> : <a title="ariadne.model.MiraiSession" href="model.html#ariadne.model.MiraiSession">MiraiSession</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="ariadne.app.MultimediaMixin.uploadImage"><code class="name flex">
<span>async def <span class="ident">uploadImage</span></span>(<span>self, data: bytes, method: <a title="ariadne.model.UploadMethod" href="model.html#ariadne.model.UploadMethod">UploadMethod</a>) ‑> Image</span>
</code></dt>
<dd>
<div class="desc"><p>上传一张图片到远端服务器, 需要提供: 图片的原始数据(bytes), 图片的上传类型.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>image_bytes</code></strong> :&ensp;<code>bytes</code></dt>
<dd>图片的原始数据</dd>
<dt><strong><code>method</code></strong> :&ensp;<code>UploadMethod</code></dt>
<dd>图片的上传类型</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Image</code></dt>
<dd>生成的图片消息元素</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def uploadImage(self, data: bytes, method: UploadMethod) -&gt; &#34;Image&#34;:
    &#34;&#34;&#34;上传一张图片到远端服务器, 需要提供: 图片的原始数据(bytes), 图片的上传类型.
    Args:
        image_bytes (bytes): 图片的原始数据
        method (UploadMethod): 图片的上传类型
    Returns:
        Image: 生成的图片消息元素
    &#34;&#34;&#34;
    from .message.element import Image

    result = await self.adapter.call_api(
        &#34;uploadImage&#34;,
        CallMethod.MULTIPART,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;type&#34;: method.value,
            &#34;img&#34;: data,
        },
    )

    return Image.parse_obj(result)</code></pre>
</details>
</dd>
<dt id="ariadne.app.MultimediaMixin.uploadVoice"><code class="name flex">
<span>async def <span class="ident">uploadVoice</span></span>(<span>self, data: bytes, method: <a title="ariadne.model.UploadMethod" href="model.html#ariadne.model.UploadMethod">UploadMethod</a>) ‑> Voice</span>
</code></dt>
<dd>
<div class="desc"><p>上传语音到远端服务器, 需要提供: 语音的原始数据(bytes), 语音的上传类型.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>data</code></strong> :&ensp;<code>bytes</code></dt>
<dd>语音的原始数据</dd>
<dt><strong><code>method</code></strong> :&ensp;<code>UploadMethod</code></dt>
<dd>语音的上传类型</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Voice</code></dt>
<dd>生成的语音消息元素</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def uploadVoice(self, data: bytes, method: UploadMethod) -&gt; &#34;Voice&#34;:
    &#34;&#34;&#34;上传语音到远端服务器, 需要提供: 语音的原始数据(bytes), 语音的上传类型.
    Args:
        data (bytes): 语音的原始数据
        method (UploadMethod): 语音的上传类型
    Returns:
        Voice: 生成的语音消息元素
    &#34;&#34;&#34;
    from .message.element import Voice

    result = await self.adapter.call_api(
        &#34;uploadVoice&#34;,
        CallMethod.MULTIPART,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;type&#34;: method.value,
            &#34;voice&#34;: data,
        },
    )

    return Voice.parse_obj(result)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="ariadne.app.OperationMixin"><code class="flex name class">
<span>class <span class="ident">OperationMixin</span></span>
</code></dt>
<dd>
<div class="desc"><p>在各种关系模型中进行操作的 Mixin 类.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class OperationMixin(AriadneMixin):
    &#34;&#34;&#34;在各种关系模型中进行操作的 Mixin 类.&#34;&#34;&#34;

    @app_ctx_manager
    async def deleteFriend(self, target: Union[Friend, int]):
        &#34;&#34;&#34;
        删除指定好友.

        Args:
            target (Union[Friend, int]): 好友对象或QQ号.

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;

        friend_id = target.id if isinstance(target, Friend) else target

        await self.adapter.call_api(
            &#34;deleteFriend&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: friend_id,
            },
        )

    @app_ctx_manager
    async def muteMember(self, group: Union[Group, int], member: Union[Member, int], time: int):
        &#34;&#34;&#34;
        在指定群组禁言指定群成员; 需要具有相应权限(管理员/群主); `time` 不得大于 `30*24*60*60=2592000` 或小于 `0`, 否则会自动修正;
        当 `time` 小于等于 `0` 时, 不会触发禁言操作; 禁言对象极有可能触发 `PermissionError`, 在这之前请对其进行判断!

        Args:
            group (Union[Group, int]): 指定的群组
            member (Union[Member, int]): 指定的群成员(只能是普通群员或者是管理员, 后者则要求群主权限)
            time (int): 禁言事件, 单位秒, 修正规则: `0 &lt; time &lt;= 2592000`

        Raises:
            PermissionError: 没有相应操作权限.

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        time = max(0, min(time, 2592000))  # Fix time parameter
        if not time:
            return
        await self.adapter.call_api(
            &#34;mute&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
                &#34;memberId&#34;: member.id if isinstance(member, Member) else member,
                &#34;time&#34;: time,
            },
        )

    @app_ctx_manager
    async def unmuteMember(self, group: Union[Group, int], member: Union[Member, int]):
        &#34;&#34;&#34;
        在指定群组解除对指定群成员的禁言; 需要具有相应权限(管理员/群主); 对象极有可能触发 `PermissionError`, 在这之前请对其进行判断!

        Args:
            group (Union[Group, int]): 指定的群组
            member (Union[Member, int]): 指定的群成员(只能是普通群员或者是管理员, 后者则要求群主权限)

        Raises:
            PermissionError: 没有相应操作权限.

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        await self.adapter.call_api(
            &#34;unmute&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
                &#34;memberId&#34;: member.id if isinstance(member, Member) else member,
            },
        )

    @app_ctx_manager
    async def muteAll(self, group: Union[Group, int]):
        &#34;&#34;&#34;在指定群组开启全体禁言, 需要当前会话账号在指定群主有相应权限(管理员或者群主权限)

        Args:
            group (Union[Group, int]): 指定的群组.

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        await self.adapter.call_api(
            &#34;muteAll&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
            },
        )

    @app_ctx_manager
    async def unmuteAll(self, group: Union[Group, int]):
        &#34;&#34;&#34;在指定群组关闭全体禁言, 需要当前会话账号在指定群主有相应权限(管理员或者群主权限)

        Args:
            group (Union[Group, int]): 指定的群组.

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        await self.adapter.call_api(
            &#34;unmuteAll&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
            },
        )

    @app_ctx_manager
    async def kickMember(self, group: Union[Group, int], member: Union[Member, int], message: str = &#34;&#34;):
        &#34;&#34;&#34;
        将目标群组成员从指定群组踢出; 需要具有相应权限(管理员/群主)

        Args:
            group (Union[Group, int]): 指定的群组
            member (Union[Member, int]): 指定的群成员(只能是普通群员或者是管理员, 后者则要求群主权限)
            message (str, optional): 对踢出对象要展示的消息

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        await self.adapter.call_api(
            &#34;kick&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
                &#34;memberId&#34;: member.id if isinstance(member, Member) else member,
                &#34;msg&#34;: message,
            },
        )

    @app_ctx_manager
    async def quitGroup(self, group: Union[Group, int]):
        &#34;&#34;&#34;
        主动从指定群组退出

        Args:
            group (Union[Group, int]): 需要退出的指定群组

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        await self.adapter.call_api(
            &#34;quit&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
            },
        )

    @app_ctx_manager
    async def setEssence(self, target: Union[Source, BotMessage, int]):
        &#34;&#34;&#34;
        添加指定消息为群精华消息; 需要具有相应权限(管理员/群主).
        请自行判断消息来源是否为群组.

        Args:
            target (Union[Source, BotMessage, int]): 特定信息的 `messageId`, 可以是 `Source` 实例, `BotMessage` 实例或者是单纯的 int 整数.

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        if isinstance(target, BotMessage):
            target = target.messageId
        elif isinstance(target, Source):
            target = target.id

        await self.adapter.call_api(
            &#34;setEssence&#34;,
            CallMethod.POST,
            {&#34;sessionKey&#34;: self.session_key, &#34;target&#34;: target},
        )

    @app_ctx_manager
    async def getGroupConfig(self, group: Union[Group, int]) -&gt; GroupConfig:
        &#34;&#34;&#34;
        获取指定群组的群设置

        Args:
            group (Union[Group, int]): 需要获取群设置的指定群组

        Returns:
            GroupConfig: 指定群组的群设置
        &#34;&#34;&#34;
        result = await self.adapter.call_api(
            &#34;groupConfig&#34;,
            CallMethod.RESTGET,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
            },
        )

        return GroupConfig.parse_obj(result)

    @app_ctx_manager
    async def modifyGroupConfig(self, group: Union[Group, int], config: GroupConfig):
        &#34;&#34;&#34;修改指定群组的群设置; 需要具有相应权限(管理员/群主).

        Args:
            group (Union[Group, int]): 需要修改群设置的指定群组
            config (GroupConfig): 经过修改后的群设置

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        await self.adapter.call_api(
            &#34;groupConfig&#34;,
            CallMethod.RESTPOST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
                &#34;config&#34;: config.dict(exclude_unset=True, exclude_none=True),
            },
        )

    @app_ctx_manager
    async def getMemberInfo(
        self, member: Union[Member, int], group: Optional[Union[Group, int]] = None
    ) -&gt; MemberInfo:
        &#34;&#34;&#34;
        获取指定群组成员的可修改状态.

        Args:
            member (Union[Member, int]): 指定群成员, 可为 Member 实例, 若前设成立, 则不需要提供 group.
            group (Optional[Union[Group, int]], optional): 如果 member 为 Member 实例, 则不需要提供本项, 否则需要. 默认为 None.

        Raises:
            TypeError: 提供了错误的参数, 阅读有关文档得到问题原因

        Returns:
            MemberInfo: 指定群组成员的可修改状态
        &#34;&#34;&#34;
        if not group and not isinstance(member, Member):
            raise TypeError(&#34;you should give a Member instance if you cannot give a Group instance to me.&#34;)
        if isinstance(member, Member) and not group:
            group: Group = member.group
        result = await self.adapter.call_api(
            &#34;memberInfo&#34;,
            CallMethod.RESTGET,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
                &#34;memberId&#34;: member.id if isinstance(member, Member) else member,
            },
        )

        return MemberInfo.parse_obj(result)

    @app_ctx_manager
    async def modifyMemberInfo(
        self,
        member: Union[Member, int],
        info: MemberInfo,
        group: Optional[Union[Group, int]] = None,
    ):
        &#34;&#34;&#34;
        修改指定群组成员的可修改状态; 需要具有相应权限(管理员/群主).

        Args:
            member (Union[Member, int]): 指定的群组成员, 可为 Member 实例, 若前设成立, 则不需要提供 group.
            info (MemberInfo): 已修改的指定群组成员的可修改状态
            group (Optional[Union[Group, int]], optional): 如果 member 为 Member 实例, 则不需要提供本项, 否则需要. 默认为 None.

        Raises:
            TypeError: 提供了错误的参数, 阅读有关文档得到问题原因

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        if not group and not isinstance(member, Member):
            raise TypeError(&#34;you should give a Member instance if you cannot give a Group instance to me.&#34;)
        if isinstance(member, Member) and not group:
            group: Group = member.group
        await self.adapter.call_api(
            &#34;memberInfo&#34;,
            CallMethod.RESTPOST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
                &#34;memberId&#34;: member.id if isinstance(member, Member) else member,
                &#34;info&#34;: info.dict(exclude_none=True, exclude_unset=True, by_alias=True),
            },
        )

    @app_ctx_manager
    async def modifyMemberAdmin(
        self,
        assign: bool,
        member: Union[Member, int],
        group: Optional[Union[Group, int]] = None,
    ):
        &#34;&#34;&#34;
        修改一位群组成员管理员权限; 需要有相应权限(群主)

        Args:
            member (Union[Member, int]): 指定群成员, 可为 Member 实例, 若前设成立, 则不需要提供 group.
            assign (bool): 是否设置群成员为管理员.
            group (Optional[Union[Group, int]], optional): 如果 member 为 Member 实例, 则不需要提供本项, 否则需要. 默认为 None.

        Raises:
            TypeError: 提供了错误的参数, 阅读有关文档得到问题原因
            PermissionError: 没有相应操作权限.

        Returns:
            None: 没有返回.
        &#34;&#34;&#34;
        if not group and not isinstance(member, Member):
            raise TypeError(&#34;you should give a Member instance if you cannot give a Group instance to me.&#34;)
        if isinstance(member, Member) and not group:
            group: Group = member.group

        await self.adapter.call_api(
            &#34;memberAdmin&#34;,
            CallMethod.POST,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
                &#34;memberId&#34;: member.id if isinstance(member, Member) else member,
                &#34;assign&#34;: assign,
            },
        )</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="ariadne.app.AriadneMixin" href="#ariadne.app.AriadneMixin">AriadneMixin</a></li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="ariadne.app.Ariadne" href="#ariadne.app.Ariadne">Ariadne</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="ariadne.app.OperationMixin.adapter"><code class="name">var <span class="ident">adapter</span> : <a title="ariadne.adapter.Adapter" href="adapter.html#ariadne.adapter.Adapter">Adapter</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ariadne.app.OperationMixin.broadcast"><code class="name">var <span class="ident">broadcast</span> : graia.broadcast.Broadcast</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ariadne.app.OperationMixin.mirai_session"><code class="name">var <span class="ident">mirai_session</span> : <a title="ariadne.model.MiraiSession" href="model.html#ariadne.model.MiraiSession">MiraiSession</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="ariadne.app.OperationMixin.deleteFriend"><code class="name flex">
<span>async def <span class="ident">deleteFriend</span></span>(<span>self, target: Union[<a title="ariadne.model.Friend" href="model.html#ariadne.model.Friend">Friend</a>, int])</span>
</code></dt>
<dd>
<div class="desc"><p>删除指定好友.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>target</code></strong> :&ensp;<code>Union[Friend, int]</code></dt>
<dd>好友对象或QQ号.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>None</code></dt>
<dd>没有返回.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def deleteFriend(self, target: Union[Friend, int]):
    &#34;&#34;&#34;
    删除指定好友.

    Args:
        target (Union[Friend, int]): 好友对象或QQ号.

    Returns:
        None: 没有返回.
    &#34;&#34;&#34;

    friend_id = target.id if isinstance(target, Friend) else target

    await self.adapter.call_api(
        &#34;deleteFriend&#34;,
        CallMethod.POST,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;target&#34;: friend_id,
        },
    )</code></pre>
</details>
</dd>
<dt id="ariadne.app.OperationMixin.getGroupConfig"><code class="name flex">
<span>async def <span class="ident">getGroupConfig</span></span>(<span>self, group: Union[<a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int]) ‑> <a title="ariadne.model.GroupConfig" href="model.html#ariadne.model.GroupConfig">GroupConfig</a></span>
</code></dt>
<dd>
<div class="desc"><p>获取指定群组的群设置</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>group</code></strong> :&ensp;<code>Union[Group, int]</code></dt>
<dd>需要获取群设置的指定群组</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>GroupConfig</code></dt>
<dd>指定群组的群设置</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def getGroupConfig(self, group: Union[Group, int]) -&gt; GroupConfig:
    &#34;&#34;&#34;
    获取指定群组的群设置

    Args:
        group (Union[Group, int]): 需要获取群设置的指定群组

    Returns:
        GroupConfig: 指定群组的群设置
    &#34;&#34;&#34;
    result = await self.adapter.call_api(
        &#34;groupConfig&#34;,
        CallMethod.RESTGET,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;target&#34;: group.id if isinstance(group, Group) else group,
        },
    )

    return GroupConfig.parse_obj(result)</code></pre>
</details>
</dd>
<dt id="ariadne.app.OperationMixin.getMemberInfo"><code class="name flex">
<span>async def <span class="ident">getMemberInfo</span></span>(<span>self, member: Union[<a title="ariadne.model.Member" href="model.html#ariadne.model.Member">Member</a>, int], group: Union[<a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int, ForwardRef(None)] = None) ‑> <a title="ariadne.model.MemberInfo" href="model.html#ariadne.model.MemberInfo">MemberInfo</a></span>
</code></dt>
<dd>
<div class="desc"><p>获取指定群组成员的可修改状态.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>member</code></strong> :&ensp;<code>Union[Member, int]</code></dt>
<dd>指定群成员, 可为 Member 实例, 若前设成立, 则不需要提供 group.</dd>
<dt><strong><code>group</code></strong> :&ensp;<code>Optional[Union[Group, int]]</code>, optional</dt>
<dd>如果 member 为 Member 实例, 则不需要提供本项, 否则需要. 默认为 None.</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>TypeError</code></dt>
<dd>提供了错误的参数, 阅读有关文档得到问题原因</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>MemberInfo</code></dt>
<dd>指定群组成员的可修改状态</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def getMemberInfo(
    self, member: Union[Member, int], group: Optional[Union[Group, int]] = None
) -&gt; MemberInfo:
    &#34;&#34;&#34;
    获取指定群组成员的可修改状态.

    Args:
        member (Union[Member, int]): 指定群成员, 可为 Member 实例, 若前设成立, 则不需要提供 group.
        group (Optional[Union[Group, int]], optional): 如果 member 为 Member 实例, 则不需要提供本项, 否则需要. 默认为 None.

    Raises:
        TypeError: 提供了错误的参数, 阅读有关文档得到问题原因

    Returns:
        MemberInfo: 指定群组成员的可修改状态
    &#34;&#34;&#34;
    if not group and not isinstance(member, Member):
        raise TypeError(&#34;you should give a Member instance if you cannot give a Group instance to me.&#34;)
    if isinstance(member, Member) and not group:
        group: Group = member.group
    result = await self.adapter.call_api(
        &#34;memberInfo&#34;,
        CallMethod.RESTGET,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;target&#34;: group.id if isinstance(group, Group) else group,
            &#34;memberId&#34;: member.id if isinstance(member, Member) else member,
        },
    )

    return MemberInfo.parse_obj(result)</code></pre>
</details>
</dd>
<dt id="ariadne.app.OperationMixin.kickMember"><code class="name flex">
<span>async def <span class="ident">kickMember</span></span>(<span>self, group: Union[<a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int], member: Union[<a title="ariadne.model.Member" href="model.html#ariadne.model.Member">Member</a>, int], message: str = '')</span>
</code></dt>
<dd>
<div class="desc"><p>将目标群组成员从指定群组踢出; 需要具有相应权限(管理员/群主)</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>group</code></strong> :&ensp;<code>Union[Group, int]</code></dt>
<dd>指定的群组</dd>
<dt><strong><code>member</code></strong> :&ensp;<code>Union[Member, int]</code></dt>
<dd>指定的群成员(只能是普通群员或者是管理员, 后者则要求群主权限)</dd>
<dt><strong><code>message</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>对踢出对象要展示的消息</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>None</code></dt>
<dd>没有返回.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def kickMember(self, group: Union[Group, int], member: Union[Member, int], message: str = &#34;&#34;):
    &#34;&#34;&#34;
    将目标群组成员从指定群组踢出; 需要具有相应权限(管理员/群主)

    Args:
        group (Union[Group, int]): 指定的群组
        member (Union[Member, int]): 指定的群成员(只能是普通群员或者是管理员, 后者则要求群主权限)
        message (str, optional): 对踢出对象要展示的消息

    Returns:
        None: 没有返回.
    &#34;&#34;&#34;
    await self.adapter.call_api(
        &#34;kick&#34;,
        CallMethod.POST,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;target&#34;: group.id if isinstance(group, Group) else group,
            &#34;memberId&#34;: member.id if isinstance(member, Member) else member,
            &#34;msg&#34;: message,
        },
    )</code></pre>
</details>
</dd>
<dt id="ariadne.app.OperationMixin.modifyGroupConfig"><code class="name flex">
<span>async def <span class="ident">modifyGroupConfig</span></span>(<span>self, group: Union[<a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int], config: <a title="ariadne.model.GroupConfig" href="model.html#ariadne.model.GroupConfig">GroupConfig</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>修改指定群组的群设置; 需要具有相应权限(管理员/群主).</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>group</code></strong> :&ensp;<code>Union[Group, int]</code></dt>
<dd>需要修改群设置的指定群组</dd>
<dt><strong><code>config</code></strong> :&ensp;<code>GroupConfig</code></dt>
<dd>经过修改后的群设置</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>None</code></dt>
<dd>没有返回.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def modifyGroupConfig(self, group: Union[Group, int], config: GroupConfig):
    &#34;&#34;&#34;修改指定群组的群设置; 需要具有相应权限(管理员/群主).

    Args:
        group (Union[Group, int]): 需要修改群设置的指定群组
        config (GroupConfig): 经过修改后的群设置

    Returns:
        None: 没有返回.
    &#34;&#34;&#34;
    await self.adapter.call_api(
        &#34;groupConfig&#34;,
        CallMethod.RESTPOST,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;target&#34;: group.id if isinstance(group, Group) else group,
            &#34;config&#34;: config.dict(exclude_unset=True, exclude_none=True),
        },
    )</code></pre>
</details>
</dd>
<dt id="ariadne.app.OperationMixin.modifyMemberAdmin"><code class="name flex">
<span>async def <span class="ident">modifyMemberAdmin</span></span>(<span>self, assign: bool, member: Union[<a title="ariadne.model.Member" href="model.html#ariadne.model.Member">Member</a>, int], group: Union[<a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int, ForwardRef(None)] = None)</span>
</code></dt>
<dd>
<div class="desc"><p>修改一位群组成员管理员权限; 需要有相应权限(群主)</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>member</code></strong> :&ensp;<code>Union[Member, int]</code></dt>
<dd>指定群成员, 可为 Member 实例, 若前设成立, 则不需要提供 group.</dd>
<dt><strong><code>assign</code></strong> :&ensp;<code>bool</code></dt>
<dd>是否设置群成员为管理员.</dd>
<dt><strong><code>group</code></strong> :&ensp;<code>Optional[Union[Group, int]]</code>, optional</dt>
<dd>如果 member 为 Member 实例, 则不需要提供本项, 否则需要. 默认为 None.</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>TypeError</code></dt>
<dd>提供了错误的参数, 阅读有关文档得到问题原因</dd>
<dt><code>PermissionError</code></dt>
<dd>没有相应操作权限.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>None</code></dt>
<dd>没有返回.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def modifyMemberAdmin(
    self,
    assign: bool,
    member: Union[Member, int],
    group: Optional[Union[Group, int]] = None,
):
    &#34;&#34;&#34;
    修改一位群组成员管理员权限; 需要有相应权限(群主)

    Args:
        member (Union[Member, int]): 指定群成员, 可为 Member 实例, 若前设成立, 则不需要提供 group.
        assign (bool): 是否设置群成员为管理员.
        group (Optional[Union[Group, int]], optional): 如果 member 为 Member 实例, 则不需要提供本项, 否则需要. 默认为 None.

    Raises:
        TypeError: 提供了错误的参数, 阅读有关文档得到问题原因
        PermissionError: 没有相应操作权限.

    Returns:
        None: 没有返回.
    &#34;&#34;&#34;
    if not group and not isinstance(member, Member):
        raise TypeError(&#34;you should give a Member instance if you cannot give a Group instance to me.&#34;)
    if isinstance(member, Member) and not group:
        group: Group = member.group

    await self.adapter.call_api(
        &#34;memberAdmin&#34;,
        CallMethod.POST,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;target&#34;: group.id if isinstance(group, Group) else group,
            &#34;memberId&#34;: member.id if isinstance(member, Member) else member,
            &#34;assign&#34;: assign,
        },
    )</code></pre>
</details>
</dd>
<dt id="ariadne.app.OperationMixin.modifyMemberInfo"><code class="name flex">
<span>async def <span class="ident">modifyMemberInfo</span></span>(<span>self, member: Union[<a title="ariadne.model.Member" href="model.html#ariadne.model.Member">Member</a>, int], info: <a title="ariadne.model.MemberInfo" href="model.html#ariadne.model.MemberInfo">MemberInfo</a>, group: Union[<a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int, ForwardRef(None)] = None)</span>
</code></dt>
<dd>
<div class="desc"><p>修改指定群组成员的可修改状态; 需要具有相应权限(管理员/群主).</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>member</code></strong> :&ensp;<code>Union[Member, int]</code></dt>
<dd>指定的群组成员, 可为 Member 实例, 若前设成立, 则不需要提供 group.</dd>
<dt><strong><code>info</code></strong> :&ensp;<code>MemberInfo</code></dt>
<dd>已修改的指定群组成员的可修改状态</dd>
<dt><strong><code>group</code></strong> :&ensp;<code>Optional[Union[Group, int]]</code>, optional</dt>
<dd>如果 member 为 Member 实例, 则不需要提供本项, 否则需要. 默认为 None.</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>TypeError</code></dt>
<dd>提供了错误的参数, 阅读有关文档得到问题原因</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>None</code></dt>
<dd>没有返回.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def modifyMemberInfo(
    self,
    member: Union[Member, int],
    info: MemberInfo,
    group: Optional[Union[Group, int]] = None,
):
    &#34;&#34;&#34;
    修改指定群组成员的可修改状态; 需要具有相应权限(管理员/群主).

    Args:
        member (Union[Member, int]): 指定的群组成员, 可为 Member 实例, 若前设成立, 则不需要提供 group.
        info (MemberInfo): 已修改的指定群组成员的可修改状态
        group (Optional[Union[Group, int]], optional): 如果 member 为 Member 实例, 则不需要提供本项, 否则需要. 默认为 None.

    Raises:
        TypeError: 提供了错误的参数, 阅读有关文档得到问题原因

    Returns:
        None: 没有返回.
    &#34;&#34;&#34;
    if not group and not isinstance(member, Member):
        raise TypeError(&#34;you should give a Member instance if you cannot give a Group instance to me.&#34;)
    if isinstance(member, Member) and not group:
        group: Group = member.group
    await self.adapter.call_api(
        &#34;memberInfo&#34;,
        CallMethod.RESTPOST,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;target&#34;: group.id if isinstance(group, Group) else group,
            &#34;memberId&#34;: member.id if isinstance(member, Member) else member,
            &#34;info&#34;: info.dict(exclude_none=True, exclude_unset=True, by_alias=True),
        },
    )</code></pre>
</details>
</dd>
<dt id="ariadne.app.OperationMixin.muteAll"><code class="name flex">
<span>async def <span class="ident">muteAll</span></span>(<span>self, group: Union[<a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int])</span>
</code></dt>
<dd>
<div class="desc"><p>在指定群组开启全体禁言, 需要当前会话账号在指定群主有相应权限(管理员或者群主权限)</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>group</code></strong> :&ensp;<code>Union[Group, int]</code></dt>
<dd>指定的群组.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>None</code></dt>
<dd>没有返回.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def muteAll(self, group: Union[Group, int]):
    &#34;&#34;&#34;在指定群组开启全体禁言, 需要当前会话账号在指定群主有相应权限(管理员或者群主权限)

    Args:
        group (Union[Group, int]): 指定的群组.

    Returns:
        None: 没有返回.
    &#34;&#34;&#34;
    await self.adapter.call_api(
        &#34;muteAll&#34;,
        CallMethod.POST,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;target&#34;: group.id if isinstance(group, Group) else group,
        },
    )</code></pre>
</details>
</dd>
<dt id="ariadne.app.OperationMixin.muteMember"><code class="name flex">
<span>async def <span class="ident">muteMember</span></span>(<span>self, group: Union[<a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int], member: Union[<a title="ariadne.model.Member" href="model.html#ariadne.model.Member">Member</a>, int], time: int)</span>
</code></dt>
<dd>
<div class="desc"><p>在指定群组禁言指定群成员; 需要具有相应权限(管理员/群主); <code>time</code> 不得大于 <code>30*24*60*60=2592000</code> 或小于 <code>0</code>, 否则会自动修正;
当 <code>time</code> 小于等于 <code>0</code> 时, 不会触发禁言操作; 禁言对象极有可能触发 <code>PermissionError</code>, 在这之前请对其进行判断!</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>group</code></strong> :&ensp;<code>Union[Group, int]</code></dt>
<dd>指定的群组</dd>
<dt><strong><code>member</code></strong> :&ensp;<code>Union[Member, int]</code></dt>
<dd>指定的群成员(只能是普通群员或者是管理员, 后者则要求群主权限)</dd>
<dt><strong><code>time</code></strong> :&ensp;<code>int</code></dt>
<dd>禁言事件, 单位秒, 修正规则: <code>0 &lt; time &lt;= 2592000</code></dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>PermissionError</code></dt>
<dd>没有相应操作权限.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>None</code></dt>
<dd>没有返回.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def muteMember(self, group: Union[Group, int], member: Union[Member, int], time: int):
    &#34;&#34;&#34;
    在指定群组禁言指定群成员; 需要具有相应权限(管理员/群主); `time` 不得大于 `30*24*60*60=2592000` 或小于 `0`, 否则会自动修正;
    当 `time` 小于等于 `0` 时, 不会触发禁言操作; 禁言对象极有可能触发 `PermissionError`, 在这之前请对其进行判断!

    Args:
        group (Union[Group, int]): 指定的群组
        member (Union[Member, int]): 指定的群成员(只能是普通群员或者是管理员, 后者则要求群主权限)
        time (int): 禁言事件, 单位秒, 修正规则: `0 &lt; time &lt;= 2592000`

    Raises:
        PermissionError: 没有相应操作权限.

    Returns:
        None: 没有返回.
    &#34;&#34;&#34;
    time = max(0, min(time, 2592000))  # Fix time parameter
    if not time:
        return
    await self.adapter.call_api(
        &#34;mute&#34;,
        CallMethod.POST,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;target&#34;: group.id if isinstance(group, Group) else group,
            &#34;memberId&#34;: member.id if isinstance(member, Member) else member,
            &#34;time&#34;: time,
        },
    )</code></pre>
</details>
</dd>
<dt id="ariadne.app.OperationMixin.quitGroup"><code class="name flex">
<span>async def <span class="ident">quitGroup</span></span>(<span>self, group: Union[<a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int])</span>
</code></dt>
<dd>
<div class="desc"><p>主动从指定群组退出</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>group</code></strong> :&ensp;<code>Union[Group, int]</code></dt>
<dd>需要退出的指定群组</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>None</code></dt>
<dd>没有返回.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def quitGroup(self, group: Union[Group, int]):
    &#34;&#34;&#34;
    主动从指定群组退出

    Args:
        group (Union[Group, int]): 需要退出的指定群组

    Returns:
        None: 没有返回.
    &#34;&#34;&#34;
    await self.adapter.call_api(
        &#34;quit&#34;,
        CallMethod.POST,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;target&#34;: group.id if isinstance(group, Group) else group,
        },
    )</code></pre>
</details>
</dd>
<dt id="ariadne.app.OperationMixin.setEssence"><code class="name flex">
<span>async def <span class="ident">setEssence</span></span>(<span>self, target: Union[<a title="ariadne.message.element.Source" href="message/element.html#ariadne.message.element.Source">Source</a>, <a title="ariadne.model.BotMessage" href="model.html#ariadne.model.BotMessage">BotMessage</a>, int])</span>
</code></dt>
<dd>
<div class="desc"><p>添加指定消息为群精华消息; 需要具有相应权限(管理员/群主).
请自行判断消息来源是否为群组.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>target</code></strong> :&ensp;<code>Union[Source, BotMessage, int]</code></dt>
<dd>特定信息的 <code>messageId</code>, 可以是 <code>Source</code> 实例, <code>BotMessage</code> 实例或者是单纯的 int 整数.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>None</code></dt>
<dd>没有返回.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def setEssence(self, target: Union[Source, BotMessage, int]):
    &#34;&#34;&#34;
    添加指定消息为群精华消息; 需要具有相应权限(管理员/群主).
    请自行判断消息来源是否为群组.

    Args:
        target (Union[Source, BotMessage, int]): 特定信息的 `messageId`, 可以是 `Source` 实例, `BotMessage` 实例或者是单纯的 int 整数.

    Returns:
        None: 没有返回.
    &#34;&#34;&#34;
    if isinstance(target, BotMessage):
        target = target.messageId
    elif isinstance(target, Source):
        target = target.id

    await self.adapter.call_api(
        &#34;setEssence&#34;,
        CallMethod.POST,
        {&#34;sessionKey&#34;: self.session_key, &#34;target&#34;: target},
    )</code></pre>
</details>
</dd>
<dt id="ariadne.app.OperationMixin.unmuteAll"><code class="name flex">
<span>async def <span class="ident">unmuteAll</span></span>(<span>self, group: Union[<a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int])</span>
</code></dt>
<dd>
<div class="desc"><p>在指定群组关闭全体禁言, 需要当前会话账号在指定群主有相应权限(管理员或者群主权限)</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>group</code></strong> :&ensp;<code>Union[Group, int]</code></dt>
<dd>指定的群组.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>None</code></dt>
<dd>没有返回.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def unmuteAll(self, group: Union[Group, int]):
    &#34;&#34;&#34;在指定群组关闭全体禁言, 需要当前会话账号在指定群主有相应权限(管理员或者群主权限)

    Args:
        group (Union[Group, int]): 指定的群组.

    Returns:
        None: 没有返回.
    &#34;&#34;&#34;
    await self.adapter.call_api(
        &#34;unmuteAll&#34;,
        CallMethod.POST,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;target&#34;: group.id if isinstance(group, Group) else group,
        },
    )</code></pre>
</details>
</dd>
<dt id="ariadne.app.OperationMixin.unmuteMember"><code class="name flex">
<span>async def <span class="ident">unmuteMember</span></span>(<span>self, group: Union[<a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int], member: Union[<a title="ariadne.model.Member" href="model.html#ariadne.model.Member">Member</a>, int])</span>
</code></dt>
<dd>
<div class="desc"><p>在指定群组解除对指定群成员的禁言; 需要具有相应权限(管理员/群主); 对象极有可能触发 <code>PermissionError</code>, 在这之前请对其进行判断!</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>group</code></strong> :&ensp;<code>Union[Group, int]</code></dt>
<dd>指定的群组</dd>
<dt><strong><code>member</code></strong> :&ensp;<code>Union[Member, int]</code></dt>
<dd>指定的群成员(只能是普通群员或者是管理员, 后者则要求群主权限)</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>PermissionError</code></dt>
<dd>没有相应操作权限.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>None</code></dt>
<dd>没有返回.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def unmuteMember(self, group: Union[Group, int], member: Union[Member, int]):
    &#34;&#34;&#34;
    在指定群组解除对指定群成员的禁言; 需要具有相应权限(管理员/群主); 对象极有可能触发 `PermissionError`, 在这之前请对其进行判断!

    Args:
        group (Union[Group, int]): 指定的群组
        member (Union[Member, int]): 指定的群成员(只能是普通群员或者是管理员, 后者则要求群主权限)

    Raises:
        PermissionError: 没有相应操作权限.

    Returns:
        None: 没有返回.
    &#34;&#34;&#34;
    await self.adapter.call_api(
        &#34;unmute&#34;,
        CallMethod.POST,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;target&#34;: group.id if isinstance(group, Group) else group,
            &#34;memberId&#34;: member.id if isinstance(member, Member) else member,
        },
    )</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="ariadne.app.RelationshipMixin"><code class="flex name class">
<span>class <span class="ident">RelationshipMixin</span></span>
</code></dt>
<dd>
<div class="desc"><p>获取各种关系模型的 Mixin 类.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class RelationshipMixin(AriadneMixin):
    &#34;&#34;&#34;获取各种关系模型的 Mixin 类.&#34;&#34;&#34;

    @app_ctx_manager
    async def getFriendList(self) -&gt; List[Friend]:
        result = await self.adapter.call_api(
            &#34;friendList&#34;,
            CallMethod.GET,
            {&#34;sessionKey&#34;: self.session_key},
        )
        return [Friend.parse_obj(i) for i in result]

    @app_ctx_manager
    async def getFriend(self, friend_id: int) -&gt; Optional[Friend]:
        &#34;&#34;&#34;从已知的可能的好友 ID, 获取 Friend 实例.

        Args:
            friend_id (int): 已知的可能的好友 ID.

        Returns:
            Friend: 操作成功, 你得到了你应得的.
            None: 未能获取到.
        &#34;&#34;&#34;
        data = await self.getFriendList()
        for i in data:
            if i.id == friend_id:
                return i

    @app_ctx_manager
    async def getGroupList(self) -&gt; List[Group]:
        result = await self.adapter.call_api(
            &#34;groupList&#34;,
            CallMethod.GET,
            {&#34;sessionKey&#34;: self.session_key},
        )
        return [Group.parse_obj(i) for i in result]

    @app_ctx_manager
    async def getGroup(self, group_id: int) -&gt; Optional[Group]:
        &#34;&#34;&#34;尝试从已知的群组唯一ID, 获取对应群组的信息; 可能返回 None.

        Args:
            group_id (int): 尝试获取的群组的唯一 ID.

        Returns:
            Group: 操作成功, 你得到了你应得的.
            None: 未能获取到.
        &#34;&#34;&#34;
        data = await self.getGroupList()
        for i in data:
            if i.id == group_id:
                return i

    @app_ctx_manager
    async def getMemberList(self, group: Union[Group, int]) -&gt; List[Member]:
        result = await self.adapter.call_api(
            &#34;memberList&#34;,
            CallMethod.GET,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: group.id if isinstance(group, Group) else group,
            },
        )
        return [Member.parse_obj(i) for i in result]

    @app_ctx_manager
    async def getMember(self, group: Union[Group, int], member_id: int) -&gt; Optional[Member]:
        &#34;&#34;&#34;尝试从已知的群组唯一 ID 和已知的群组成员的 ID, 获取对应成员的信息; 可能返回 None.

        Args:
            group_id (Union[Group, int]): 已知的群组唯一 ID
            member_id (int): 已知的群组成员的 ID

        Returns:
            Member: 操作成功, 你得到了你应得的.
            None: 未能获取到.
        &#34;&#34;&#34;
        data = await self.getMemberList(group)
        for i in data:
            if i.id == member_id:
                return i

    @app_ctx_manager
    async def getBotProfile(self) -&gt; Profile:
        result = await self.adapter.call_api(
            &#34;botProfile&#34;,
            CallMethod.GET,
            {&#34;sessionKey&#34;: self.session_key},
        )
        return Profile.parse_obj(result)

    @app_ctx_manager
    async def getFriendProfile(self, friend: Union[Friend, int]) -&gt; Profile:
        result = await self.adapter.call_api(
            &#34;friendProfile&#34;,
            CallMethod.GET,
            {
                &#34;sessionKey&#34;: self.session_key,
                &#34;target&#34;: friend.id if isinstance(friend, Friend) else friend,
            },
        )
        return Profile.parse_obj(result)

    @app_ctx_manager
    async def getMemberProfile(
        self, member: Union[Member, int], group: Optional[Union[Group, int]] = None
    ) -&gt; Profile:
        member_id = member.id if isinstance(member, Member) else member
        group = group or (member.group if isinstance(member, Member) else None)
        group_id = group.id if isinstance(group, Group) else group
        if not group_id:
            raise ValueError(&#34;Missing necessary argument: group&#34;)
        result = await self.adapter.call_api(
            &#34;memberProfile&#34;,
            CallMethod.GET,
            {&#34;sessionKey&#34;: self.session_key, &#34;target&#34;: group_id, &#34;memberId&#34;: member_id},
        )
        return Profile.parse_obj(result)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="ariadne.app.AriadneMixin" href="#ariadne.app.AriadneMixin">AriadneMixin</a></li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="ariadne.app.Ariadne" href="#ariadne.app.Ariadne">Ariadne</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="ariadne.app.RelationshipMixin.adapter"><code class="name">var <span class="ident">adapter</span> : <a title="ariadne.adapter.Adapter" href="adapter.html#ariadne.adapter.Adapter">Adapter</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ariadne.app.RelationshipMixin.broadcast"><code class="name">var <span class="ident">broadcast</span> : graia.broadcast.Broadcast</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ariadne.app.RelationshipMixin.mirai_session"><code class="name">var <span class="ident">mirai_session</span> : <a title="ariadne.model.MiraiSession" href="model.html#ariadne.model.MiraiSession">MiraiSession</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="ariadne.app.RelationshipMixin.getBotProfile"><code class="name flex">
<span>async def <span class="ident">getBotProfile</span></span>(<span>self) ‑> <a title="ariadne.model.Profile" href="model.html#ariadne.model.Profile">Profile</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def getBotProfile(self) -&gt; Profile:
    result = await self.adapter.call_api(
        &#34;botProfile&#34;,
        CallMethod.GET,
        {&#34;sessionKey&#34;: self.session_key},
    )
    return Profile.parse_obj(result)</code></pre>
</details>
</dd>
<dt id="ariadne.app.RelationshipMixin.getFriend"><code class="name flex">
<span>async def <span class="ident">getFriend</span></span>(<span>self, friend_id: int) ‑> Optional[<a title="ariadne.model.Friend" href="model.html#ariadne.model.Friend">Friend</a>]</span>
</code></dt>
<dd>
<div class="desc"><p>从已知的可能的好友 ID, 获取 Friend 实例.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>friend_id</code></strong> :&ensp;<code>int</code></dt>
<dd>已知的可能的好友 ID.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Friend</code></dt>
<dd>操作成功, 你得到了你应得的.</dd>
<dt><code>None</code></dt>
<dd>未能获取到.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def getFriend(self, friend_id: int) -&gt; Optional[Friend]:
    &#34;&#34;&#34;从已知的可能的好友 ID, 获取 Friend 实例.

    Args:
        friend_id (int): 已知的可能的好友 ID.

    Returns:
        Friend: 操作成功, 你得到了你应得的.
        None: 未能获取到.
    &#34;&#34;&#34;
    data = await self.getFriendList()
    for i in data:
        if i.id == friend_id:
            return i</code></pre>
</details>
</dd>
<dt id="ariadne.app.RelationshipMixin.getFriendList"><code class="name flex">
<span>async def <span class="ident">getFriendList</span></span>(<span>self) ‑> List[<a title="ariadne.model.Friend" href="model.html#ariadne.model.Friend">Friend</a>]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def getFriendList(self) -&gt; List[Friend]:
    result = await self.adapter.call_api(
        &#34;friendList&#34;,
        CallMethod.GET,
        {&#34;sessionKey&#34;: self.session_key},
    )
    return [Friend.parse_obj(i) for i in result]</code></pre>
</details>
</dd>
<dt id="ariadne.app.RelationshipMixin.getFriendProfile"><code class="name flex">
<span>async def <span class="ident">getFriendProfile</span></span>(<span>self, friend: Union[<a title="ariadne.model.Friend" href="model.html#ariadne.model.Friend">Friend</a>, int]) ‑> <a title="ariadne.model.Profile" href="model.html#ariadne.model.Profile">Profile</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def getFriendProfile(self, friend: Union[Friend, int]) -&gt; Profile:
    result = await self.adapter.call_api(
        &#34;friendProfile&#34;,
        CallMethod.GET,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;target&#34;: friend.id if isinstance(friend, Friend) else friend,
        },
    )
    return Profile.parse_obj(result)</code></pre>
</details>
</dd>
<dt id="ariadne.app.RelationshipMixin.getGroup"><code class="name flex">
<span>async def <span class="ident">getGroup</span></span>(<span>self, group_id: int) ‑> Optional[<a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>]</span>
</code></dt>
<dd>
<div class="desc"><p>尝试从已知的群组唯一ID, 获取对应群组的信息; 可能返回 None.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>group_id</code></strong> :&ensp;<code>int</code></dt>
<dd>尝试获取的群组的唯一 ID.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Group</code></dt>
<dd>操作成功, 你得到了你应得的.</dd>
<dt><code>None</code></dt>
<dd>未能获取到.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def getGroup(self, group_id: int) -&gt; Optional[Group]:
    &#34;&#34;&#34;尝试从已知的群组唯一ID, 获取对应群组的信息; 可能返回 None.

    Args:
        group_id (int): 尝试获取的群组的唯一 ID.

    Returns:
        Group: 操作成功, 你得到了你应得的.
        None: 未能获取到.
    &#34;&#34;&#34;
    data = await self.getGroupList()
    for i in data:
        if i.id == group_id:
            return i</code></pre>
</details>
</dd>
<dt id="ariadne.app.RelationshipMixin.getGroupList"><code class="name flex">
<span>async def <span class="ident">getGroupList</span></span>(<span>self) ‑> List[<a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def getGroupList(self) -&gt; List[Group]:
    result = await self.adapter.call_api(
        &#34;groupList&#34;,
        CallMethod.GET,
        {&#34;sessionKey&#34;: self.session_key},
    )
    return [Group.parse_obj(i) for i in result]</code></pre>
</details>
</dd>
<dt id="ariadne.app.RelationshipMixin.getMember"><code class="name flex">
<span>async def <span class="ident">getMember</span></span>(<span>self, group: Union[<a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int], member_id: int) ‑> Optional[<a title="ariadne.model.Member" href="model.html#ariadne.model.Member">Member</a>]</span>
</code></dt>
<dd>
<div class="desc"><p>尝试从已知的群组唯一 ID 和已知的群组成员的 ID, 获取对应成员的信息; 可能返回 None.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>group_id</code></strong> :&ensp;<code>Union[Group, int]</code></dt>
<dd>已知的群组唯一 ID</dd>
<dt><strong><code>member_id</code></strong> :&ensp;<code>int</code></dt>
<dd>已知的群组成员的 ID</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Member</code></dt>
<dd>操作成功, 你得到了你应得的.</dd>
<dt><code>None</code></dt>
<dd>未能获取到.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def getMember(self, group: Union[Group, int], member_id: int) -&gt; Optional[Member]:
    &#34;&#34;&#34;尝试从已知的群组唯一 ID 和已知的群组成员的 ID, 获取对应成员的信息; 可能返回 None.

    Args:
        group_id (Union[Group, int]): 已知的群组唯一 ID
        member_id (int): 已知的群组成员的 ID

    Returns:
        Member: 操作成功, 你得到了你应得的.
        None: 未能获取到.
    &#34;&#34;&#34;
    data = await self.getMemberList(group)
    for i in data:
        if i.id == member_id:
            return i</code></pre>
</details>
</dd>
<dt id="ariadne.app.RelationshipMixin.getMemberList"><code class="name flex">
<span>async def <span class="ident">getMemberList</span></span>(<span>self, group: Union[<a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int]) ‑> List[<a title="ariadne.model.Member" href="model.html#ariadne.model.Member">Member</a>]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def getMemberList(self, group: Union[Group, int]) -&gt; List[Member]:
    result = await self.adapter.call_api(
        &#34;memberList&#34;,
        CallMethod.GET,
        {
            &#34;sessionKey&#34;: self.session_key,
            &#34;target&#34;: group.id if isinstance(group, Group) else group,
        },
    )
    return [Member.parse_obj(i) for i in result]</code></pre>
</details>
</dd>
<dt id="ariadne.app.RelationshipMixin.getMemberProfile"><code class="name flex">
<span>async def <span class="ident">getMemberProfile</span></span>(<span>self, member: Union[<a title="ariadne.model.Member" href="model.html#ariadne.model.Member">Member</a>, int], group: Union[<a title="ariadne.model.Group" href="model.html#ariadne.model.Group">Group</a>, int, ForwardRef(None)] = None) ‑> <a title="ariadne.model.Profile" href="model.html#ariadne.model.Profile">Profile</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@app_ctx_manager
async def getMemberProfile(
    self, member: Union[Member, int], group: Optional[Union[Group, int]] = None
) -&gt; Profile:
    member_id = member.id if isinstance(member, Member) else member
    group = group or (member.group if isinstance(member, Member) else None)
    group_id = group.id if isinstance(group, Group) else group
    if not group_id:
        raise ValueError(&#34;Missing necessary argument: group&#34;)
    result = await self.adapter.call_api(
        &#34;memberProfile&#34;,
        CallMethod.GET,
        {&#34;sessionKey&#34;: self.session_key, &#34;target&#34;: group_id, &#34;memberId&#34;: member_id},
    )
    return Profile.parse_obj(result)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<form>
<input id="lunr-search" name="q" placeholder="🔎 Search ..." aria-label="Search"
disabled minlength="2">
</form>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/tingle/0.15.3/tingle.min.css" integrity="sha512-j1u8eUJ4f23xPPxwOrLUPQaCD2dwzNqqmDDcWS4deWsMv2ohLqmXXuP3hU7g8TyzbMSakP/mMqoNBYWj8AEIFg==" crossorigin>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tingle/0.15.3/tingle.min.js" integrity="sha512-plGUER9JkeEWPPqQBE4sdLqBoQug5Ap+BCGMc7bJ8BXkm+VVj6QzkpBz5Yv2yPkkq+cqg9IpkBaGCas6uDbW8g==" crossorigin></script>
<style>
.modal-dialog iframe {
width: 100vw;
height: calc(100vh - 80px);
}
@media screen and (min-width: 700px) {
.modal-dialog iframe {
width: 70vw;
height: 80vh;
}
}
.modal-dialog .tingle-modal-box {width: auto;}
.modal-dialog .tingle-modal-box__content {padding: 0;}
</style>
<script>
const input = document.getElementById('lunr-search');
input.disabled = false;
input.form.addEventListener('submit', (ev) => {
ev.preventDefault();
const url = new URL(window.location);
url.searchParams.set('q', input.value);
history.replaceState({}, null, url.toString());
search(input.value);
});
const query = new URL(window.location).searchParams.get('q');
if (query)
search(query);
function search(query) {
const url = '../doc-search.html#' + encodeURIComponent(query);
new tingle.modal({
cssClass: ['modal-dialog'],
onClose: () => {
const url = new URL(window.location);
url.searchParams.delete('q');
history.replaceState({}, null, url.toString());
setTimeout(() => input.focus(), 100);
}
}).setContent('<iframe src="' + url + '"></iframe>').open();
}
</script>
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="ariadne" href="index.html">ariadne</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="ariadne.app.Ariadne" href="#ariadne.app.Ariadne">Ariadne</a></code></h4>
<ul class="two-column">
<li><code><a title="ariadne.app.Ariadne.account" href="#ariadne.app.Ariadne.account">account</a></code></li>
<li><code><a title="ariadne.app.Ariadne.adapter" href="#ariadne.app.Ariadne.adapter">adapter</a></code></li>
<li><code><a title="ariadne.app.Ariadne.broadcast" href="#ariadne.app.Ariadne.broadcast">broadcast</a></code></li>
<li><code><a title="ariadne.app.Ariadne.create" href="#ariadne.app.Ariadne.create">create</a></code></li>
<li><code><a title="ariadne.app.Ariadne.daemon" href="#ariadne.app.Ariadne.daemon">daemon</a></code></li>
<li><code><a title="ariadne.app.Ariadne.getVersion" href="#ariadne.app.Ariadne.getVersion">getVersion</a></code></li>
<li><code><a title="ariadne.app.Ariadne.launch" href="#ariadne.app.Ariadne.launch">launch</a></code></li>
<li><code><a title="ariadne.app.Ariadne.launch_blocking" href="#ariadne.app.Ariadne.launch_blocking">launch_blocking</a></code></li>
<li><code><a title="ariadne.app.Ariadne.lifecycle" href="#ariadne.app.Ariadne.lifecycle">lifecycle</a></code></li>
<li><code><a title="ariadne.app.Ariadne.mirai_session" href="#ariadne.app.Ariadne.mirai_session">mirai_session</a></code></li>
<li><code><a title="ariadne.app.Ariadne.request_stop" href="#ariadne.app.Ariadne.request_stop">request_stop</a></code></li>
<li><code><a title="ariadne.app.Ariadne.wait_for_stop" href="#ariadne.app.Ariadne.wait_for_stop">wait_for_stop</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="ariadne.app.AriadneMixin" href="#ariadne.app.AriadneMixin">AriadneMixin</a></code></h4>
<ul class="">
<li><code><a title="ariadne.app.AriadneMixin.adapter" href="#ariadne.app.AriadneMixin.adapter">adapter</a></code></li>
<li><code><a title="ariadne.app.AriadneMixin.broadcast" href="#ariadne.app.AriadneMixin.broadcast">broadcast</a></code></li>
<li><code><a title="ariadne.app.AriadneMixin.mirai_session" href="#ariadne.app.AriadneMixin.mirai_session">mirai_session</a></code></li>
<li><code><a title="ariadne.app.AriadneMixin.session_key" href="#ariadne.app.AriadneMixin.session_key">session_key</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="ariadne.app.FileMixin" href="#ariadne.app.FileMixin">FileMixin</a></code></h4>
<ul class="two-column">
<li><code><a title="ariadne.app.FileMixin.adapter" href="#ariadne.app.FileMixin.adapter">adapter</a></code></li>
<li><code><a title="ariadne.app.FileMixin.broadcast" href="#ariadne.app.FileMixin.broadcast">broadcast</a></code></li>
<li><code><a title="ariadne.app.FileMixin.deleteFile" href="#ariadne.app.FileMixin.deleteFile">deleteFile</a></code></li>
<li><code><a title="ariadne.app.FileMixin.getFileInfo" href="#ariadne.app.FileMixin.getFileInfo">getFileInfo</a></code></li>
<li><code><a title="ariadne.app.FileMixin.getFileList" href="#ariadne.app.FileMixin.getFileList">getFileList</a></code></li>
<li><code><a title="ariadne.app.FileMixin.makeDirectory" href="#ariadne.app.FileMixin.makeDirectory">makeDirectory</a></code></li>
<li><code><a title="ariadne.app.FileMixin.mirai_session" href="#ariadne.app.FileMixin.mirai_session">mirai_session</a></code></li>
<li><code><a title="ariadne.app.FileMixin.moveFile" href="#ariadne.app.FileMixin.moveFile">moveFile</a></code></li>
<li><code><a title="ariadne.app.FileMixin.renameFile" href="#ariadne.app.FileMixin.renameFile">renameFile</a></code></li>
<li><code><a title="ariadne.app.FileMixin.uploadFile" href="#ariadne.app.FileMixin.uploadFile">uploadFile</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="ariadne.app.MessageMixin" href="#ariadne.app.MessageMixin">MessageMixin</a></code></h4>
<ul class="two-column">
<li><code><a title="ariadne.app.MessageMixin.adapter" href="#ariadne.app.MessageMixin.adapter">adapter</a></code></li>
<li><code><a title="ariadne.app.MessageMixin.broadcast" href="#ariadne.app.MessageMixin.broadcast">broadcast</a></code></li>
<li><code><a title="ariadne.app.MessageMixin.getMessageFromId" href="#ariadne.app.MessageMixin.getMessageFromId">getMessageFromId</a></code></li>
<li><code><a title="ariadne.app.MessageMixin.mirai_session" href="#ariadne.app.MessageMixin.mirai_session">mirai_session</a></code></li>
<li><code><a title="ariadne.app.MessageMixin.recallMessage" href="#ariadne.app.MessageMixin.recallMessage">recallMessage</a></code></li>
<li><code><a title="ariadne.app.MessageMixin.sendFriendMessage" href="#ariadne.app.MessageMixin.sendFriendMessage">sendFriendMessage</a></code></li>
<li><code><a title="ariadne.app.MessageMixin.sendGroupMessage" href="#ariadne.app.MessageMixin.sendGroupMessage">sendGroupMessage</a></code></li>
<li><code><a title="ariadne.app.MessageMixin.sendMessage" href="#ariadne.app.MessageMixin.sendMessage">sendMessage</a></code></li>
<li><code><a title="ariadne.app.MessageMixin.sendNudge" href="#ariadne.app.MessageMixin.sendNudge">sendNudge</a></code></li>
<li><code><a title="ariadne.app.MessageMixin.sendTempMessage" href="#ariadne.app.MessageMixin.sendTempMessage">sendTempMessage</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="ariadne.app.MultimediaMixin" href="#ariadne.app.MultimediaMixin">MultimediaMixin</a></code></h4>
<ul class="">
<li><code><a title="ariadne.app.MultimediaMixin.adapter" href="#ariadne.app.MultimediaMixin.adapter">adapter</a></code></li>
<li><code><a title="ariadne.app.MultimediaMixin.broadcast" href="#ariadne.app.MultimediaMixin.broadcast">broadcast</a></code></li>
<li><code><a title="ariadne.app.MultimediaMixin.mirai_session" href="#ariadne.app.MultimediaMixin.mirai_session">mirai_session</a></code></li>
<li><code><a title="ariadne.app.MultimediaMixin.uploadImage" href="#ariadne.app.MultimediaMixin.uploadImage">uploadImage</a></code></li>
<li><code><a title="ariadne.app.MultimediaMixin.uploadVoice" href="#ariadne.app.MultimediaMixin.uploadVoice">uploadVoice</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="ariadne.app.OperationMixin" href="#ariadne.app.OperationMixin">OperationMixin</a></code></h4>
<ul class="two-column">
<li><code><a title="ariadne.app.OperationMixin.adapter" href="#ariadne.app.OperationMixin.adapter">adapter</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.broadcast" href="#ariadne.app.OperationMixin.broadcast">broadcast</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.deleteFriend" href="#ariadne.app.OperationMixin.deleteFriend">deleteFriend</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.getGroupConfig" href="#ariadne.app.OperationMixin.getGroupConfig">getGroupConfig</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.getMemberInfo" href="#ariadne.app.OperationMixin.getMemberInfo">getMemberInfo</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.kickMember" href="#ariadne.app.OperationMixin.kickMember">kickMember</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.mirai_session" href="#ariadne.app.OperationMixin.mirai_session">mirai_session</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.modifyGroupConfig" href="#ariadne.app.OperationMixin.modifyGroupConfig">modifyGroupConfig</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.modifyMemberAdmin" href="#ariadne.app.OperationMixin.modifyMemberAdmin">modifyMemberAdmin</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.modifyMemberInfo" href="#ariadne.app.OperationMixin.modifyMemberInfo">modifyMemberInfo</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.muteAll" href="#ariadne.app.OperationMixin.muteAll">muteAll</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.muteMember" href="#ariadne.app.OperationMixin.muteMember">muteMember</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.quitGroup" href="#ariadne.app.OperationMixin.quitGroup">quitGroup</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.setEssence" href="#ariadne.app.OperationMixin.setEssence">setEssence</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.unmuteAll" href="#ariadne.app.OperationMixin.unmuteAll">unmuteAll</a></code></li>
<li><code><a title="ariadne.app.OperationMixin.unmuteMember" href="#ariadne.app.OperationMixin.unmuteMember">unmuteMember</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="ariadne.app.RelationshipMixin" href="#ariadne.app.RelationshipMixin">RelationshipMixin</a></code></h4>
<ul class="two-column">
<li><code><a title="ariadne.app.RelationshipMixin.adapter" href="#ariadne.app.RelationshipMixin.adapter">adapter</a></code></li>
<li><code><a title="ariadne.app.RelationshipMixin.broadcast" href="#ariadne.app.RelationshipMixin.broadcast">broadcast</a></code></li>
<li><code><a title="ariadne.app.RelationshipMixin.getBotProfile" href="#ariadne.app.RelationshipMixin.getBotProfile">getBotProfile</a></code></li>
<li><code><a title="ariadne.app.RelationshipMixin.getFriend" href="#ariadne.app.RelationshipMixin.getFriend">getFriend</a></code></li>
<li><code><a title="ariadne.app.RelationshipMixin.getFriendList" href="#ariadne.app.RelationshipMixin.getFriendList">getFriendList</a></code></li>
<li><code><a title="ariadne.app.RelationshipMixin.getFriendProfile" href="#ariadne.app.RelationshipMixin.getFriendProfile">getFriendProfile</a></code></li>
<li><code><a title="ariadne.app.RelationshipMixin.getGroup" href="#ariadne.app.RelationshipMixin.getGroup">getGroup</a></code></li>
<li><code><a title="ariadne.app.RelationshipMixin.getGroupList" href="#ariadne.app.RelationshipMixin.getGroupList">getGroupList</a></code></li>
<li><code><a title="ariadne.app.RelationshipMixin.getMember" href="#ariadne.app.RelationshipMixin.getMember">getMember</a></code></li>
<li><code><a title="ariadne.app.RelationshipMixin.getMemberList" href="#ariadne.app.RelationshipMixin.getMemberList">getMemberList</a></code></li>
<li><code><a title="ariadne.app.RelationshipMixin.getMemberProfile" href="#ariadne.app.RelationshipMixin.getMemberProfile">getMemberProfile</a></code></li>
<li><code><a title="ariadne.app.RelationshipMixin.mirai_session" href="#ariadne.app.RelationshipMixin.mirai_session">mirai_session</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>